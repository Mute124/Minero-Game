<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<section xmlns="http://docbook.org/ns/docbook" version="5.0" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="_lib_2glm_2glm_2gtx_2matrix__factorisation_8inl_source" xml:lang="en-US">
<title>matrix_factorisation.inl</title>
<indexterm><primary>C:/Users/HP/Documents/GitHub/Minero-Game/lib/glm/glm/gtx/matrix_factorisation.inl</primary></indexterm>
Go to the documentation of this file.<programlisting linenumbering="unnumbered">1 
2 
3 <emphasis role="keyword">namespace&#32;</emphasis><link linkend="_namespaceglm">glm</link>
4 {
5 &#32;&#32;&#32;&#32;<emphasis role="keyword">template</emphasis>&#32;&lt;length_t&#32;C,&#32;length_t&#32;R,&#32;<emphasis role="keyword">typename</emphasis>&#32;T,&#32;qualifier&#32;Q&gt;
6 &#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2glm_2glm_2detail_2setup_8hpp_1a33fdea6f91c5f834105f7415e2a64407">GLM_FUNC_QUALIFIER</link>&#32;mat&lt;C,&#32;R,&#32;T,&#32;Q&gt;&#32;<link linkend="_group__gtx__matrix__factorisation_1ga904aa227f3fc40a3ae08fe0f6810b5ad">flipud</link>(mat&lt;C,&#32;R,&#32;T,&#32;Q&gt;&#32;<emphasis role="keyword">const</emphasis>&amp;&#32;<link linkend="__classes_2lib_2raylib_2src_2external_2glad_8h_1a83ad0ee7f1e06b59c90271716e689080">in</link>)
7 &#32;&#32;&#32;&#32;{
8 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;mat&lt;R,&#32;C,&#32;T,&#32;Q&gt;&#32;tin&#32;=&#32;<link linkend="__classes_2lib_2raylib_2src_2external_2_a_n_g_l_e_2_g_l_e_s2_2gl2ext_8h_1abddae8e27995e1aa57df4d93edd33803">transpose</link>(<link linkend="__classes_2lib_2raylib_2src_2external_2glad_8h_1a83ad0ee7f1e06b59c90271716e689080">in</link>);
9 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;tin&#32;=&#32;<link linkend="_group__gtx__matrix__factorisation_1gaf44ef34db04c55013bc3d9eee990b80c">fliplr</link>(tin);
10 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;mat&lt;C,&#32;R,&#32;T,&#32;Q&gt;&#32;out&#32;=&#32;<link linkend="__classes_2lib_2raylib_2src_2external_2_a_n_g_l_e_2_g_l_e_s2_2gl2ext_8h_1abddae8e27995e1aa57df4d93edd33803">transpose</link>(tin);
11 
12 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;out;
13 &#32;&#32;&#32;&#32;}
14 
15 &#32;&#32;&#32;&#32;<emphasis role="keyword">template</emphasis>&#32;&lt;length_t&#32;C,&#32;length_t&#32;R,&#32;<emphasis role="keyword">typename</emphasis>&#32;T,&#32;qualifier&#32;Q&gt;
16 &#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2glm_2glm_2detail_2setup_8hpp_1a33fdea6f91c5f834105f7415e2a64407">GLM_FUNC_QUALIFIER</link>&#32;mat&lt;C,&#32;R,&#32;T,&#32;Q&gt;&#32;<link linkend="_group__gtx__matrix__factorisation_1gaf44ef34db04c55013bc3d9eee990b80c">fliplr</link>(mat&lt;C,&#32;R,&#32;T,&#32;Q&gt;&#32;<emphasis role="keyword">const</emphasis>&amp;&#32;<link linkend="__classes_2lib_2raylib_2src_2external_2glad_8h_1a83ad0ee7f1e06b59c90271716e689080">in</link>)
17 &#32;&#32;&#32;&#32;{
18 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;mat&lt;C,&#32;R,&#32;T,&#32;Q&gt;&#32;out;
19 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>&#32;(<link linkend="_namespaceglm_1a090a0de2260835bee80e71a702492ed9">length_t</link>&#32;i&#32;=&#32;0;&#32;i&#32;&lt;&#32;<link linkend="__classes_2lib_2external_2stb__vorbis_8c_1ac4cf4b2ab929bd23951a8676eeac086b">C</link>;&#32;i++)
20 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
21 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;out[i]&#32;=&#32;<link linkend="__classes_2lib_2raylib_2src_2external_2glad_8h_1a83ad0ee7f1e06b59c90271716e689080">in</link>[(<link linkend="__classes_2lib_2external_2stb__vorbis_8c_1ac4cf4b2ab929bd23951a8676eeac086b">C</link>&#32;-&#32;i)&#32;-&#32;1];
22 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
23 
24 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;out;
25 &#32;&#32;&#32;&#32;}
26 
27 &#32;&#32;&#32;&#32;<emphasis role="keyword">template</emphasis>&#32;&lt;length_t&#32;C,&#32;length_t&#32;R,&#32;<emphasis role="keyword">typename</emphasis>&#32;T,&#32;qualifier&#32;Q&gt;
28 &#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2glm_2glm_2detail_2setup_8hpp_1a33fdea6f91c5f834105f7415e2a64407">GLM_FUNC_QUALIFIER</link>&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_group__gtx__matrix__factorisation_1ga77022dca1aa38add548f9f56a9f8071a">qr_decompose</link>(mat&lt;C,&#32;R,&#32;T,&#32;Q&gt;&#32;<emphasis role="keyword">const</emphasis>&amp;&#32;<link linkend="__classes_2lib_2raylib_2src_2external_2glad_8h_1a83ad0ee7f1e06b59c90271716e689080">in</link>,&#32;mat&lt;(<link linkend="__classes_2lib_2external_2stb__vorbis_8c_1ac4cf4b2ab929bd23951a8676eeac086b">C</link>&#32;&lt;&#32;<link linkend="__classes_2lib_2external_2stb__vorbis_8c_1a5c71a5e59a53413cd6c270266d63b031">R</link>&#32;?&#32;<link linkend="__classes_2lib_2external_2stb__vorbis_8c_1ac4cf4b2ab929bd23951a8676eeac086b">C</link>&#32;:&#32;<link linkend="__classes_2lib_2external_2stb__vorbis_8c_1a5c71a5e59a53413cd6c270266d63b031">R</link>),&#32;<link linkend="__classes_2lib_2external_2stb__vorbis_8c_1a5c71a5e59a53413cd6c270266d63b031">R</link>,&#32;T,&#32;Q&gt;&amp;&#32;q,&#32;mat&lt;<link linkend="__classes_2lib_2external_2stb__vorbis_8c_1ac4cf4b2ab929bd23951a8676eeac086b">C</link>,&#32;(<link linkend="__classes_2lib_2external_2stb__vorbis_8c_1ac4cf4b2ab929bd23951a8676eeac086b">C</link>&#32;&lt;&#32;<link linkend="__classes_2lib_2external_2stb__vorbis_8c_1a5c71a5e59a53413cd6c270266d63b031">R</link>&#32;?&#32;<link linkend="__classes_2lib_2external_2stb__vorbis_8c_1ac4cf4b2ab929bd23951a8676eeac086b">C</link>&#32;:&#32;<link linkend="__classes_2lib_2external_2stb__vorbis_8c_1a5c71a5e59a53413cd6c270266d63b031">R</link>),&#32;T,&#32;Q&gt;&amp;&#32;<link linkend="__classes_2lib_2raylib_2src_2external_2glad_8h_1abe08814c2f72843fde4d8df41440d5a0">r</link>)
29 &#32;&#32;&#32;&#32;{
30 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Uses&#32;modified&#32;Gram-Schmidt&#32;method</emphasis>
31 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Source:&#32;https://en.wikipedia.org/wiki/Gram–Schmidt_process</emphasis>
32 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;And&#32;https://en.wikipedia.org/wiki/QR_decomposition</emphasis>
33 
34 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//For&#32;all&#32;the&#32;linearly&#32;independs&#32;columns&#32;of&#32;the&#32;input...</emphasis>
35 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;(there&#32;can&#32;be&#32;no&#32;more&#32;linearly&#32;independents&#32;columns&#32;than&#32;there&#32;are&#32;rows.)</emphasis>
36 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>&#32;(<link linkend="_namespaceglm_1a090a0de2260835bee80e71a702492ed9">length_t</link>&#32;i&#32;=&#32;0;&#32;i&#32;&lt;&#32;(<link linkend="__classes_2lib_2external_2stb__vorbis_8c_1ac4cf4b2ab929bd23951a8676eeac086b">C</link>&#32;&lt;&#32;<link linkend="__classes_2lib_2external_2stb__vorbis_8c_1a5c71a5e59a53413cd6c270266d63b031">R</link>&#32;?&#32;<link linkend="__classes_2lib_2external_2stb__vorbis_8c_1ac4cf4b2ab929bd23951a8676eeac086b">C</link>&#32;:&#32;<link linkend="__classes_2lib_2external_2stb__vorbis_8c_1a5c71a5e59a53413cd6c270266d63b031">R</link>);&#32;i++)
37 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
38 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//Copy&#32;in&#32;Q&#32;the&#32;input&apos;s&#32;i-th&#32;column.</emphasis>
39 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;q[i]&#32;=&#32;<link linkend="__classes_2lib_2raylib_2src_2external_2glad_8h_1a83ad0ee7f1e06b59c90271716e689080">in</link>[i];
40 
41 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//j&#32;=&#32;[0,i[</emphasis>
42 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Make&#32;that&#32;column&#32;orthogonal&#32;to&#32;all&#32;the&#32;previous&#32;ones&#32;by&#32;substracting&#32;to&#32;it&#32;the&#32;non-orthogonal&#32;projection&#32;of&#32;all&#32;the&#32;previous&#32;columns.</emphasis>
43 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Also:&#32;Fill&#32;the&#32;zero&#32;elements&#32;of&#32;R</emphasis>
44 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>&#32;(<link linkend="_namespaceglm_1a090a0de2260835bee80e71a702492ed9">length_t</link>&#32;j&#32;=&#32;0;&#32;j&#32;&lt;&#32;i;&#32;j++)
45 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
46 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;q[i]&#32;-=&#32;<link linkend="_namespacedot">dot</link>(q[i],&#32;q[j])*q[j];
47 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2raylib_2src_2external_2glad_8h_1abe08814c2f72843fde4d8df41440d5a0">r</link>[j][i]&#32;=&#32;0;
48 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
49 
50 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//Now,&#32;Q&#32;i-th&#32;column&#32;is&#32;orthogonal&#32;to&#32;all&#32;the&#32;previous&#32;columns.&#32;Normalize&#32;it.</emphasis>
51 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;q[i]&#32;=&#32;<link linkend="_namespacenormalize">normalize</link>(q[i]);
52 
53 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//j&#32;=&#32;[i,C[</emphasis>
54 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//Finally,&#32;compute&#32;the&#32;corresponding&#32;coefficients&#32;of&#32;R&#32;by&#32;computing&#32;the&#32;projection&#32;of&#32;the&#32;resulting&#32;column&#32;on&#32;the&#32;other&#32;columns&#32;of&#32;the&#32;input.</emphasis>
55 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>&#32;(<link linkend="_namespaceglm_1a090a0de2260835bee80e71a702492ed9">length_t</link>&#32;j&#32;=&#32;i;&#32;j&#32;&lt;&#32;<link linkend="__classes_2lib_2external_2stb__vorbis_8c_1ac4cf4b2ab929bd23951a8676eeac086b">C</link>;&#32;j++)
56 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
57 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2raylib_2src_2external_2glad_8h_1abe08814c2f72843fde4d8df41440d5a0">r</link>[j][i]&#32;=&#32;<link linkend="_namespacedot">dot</link>(<link linkend="__classes_2lib_2raylib_2src_2external_2glad_8h_1a83ad0ee7f1e06b59c90271716e689080">in</link>[j],&#32;q[i]);
58 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
59 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
60 &#32;&#32;&#32;&#32;}
61 
62 &#32;&#32;&#32;&#32;<emphasis role="keyword">template</emphasis>&#32;&lt;length_t&#32;C,&#32;length_t&#32;R,&#32;<emphasis role="keyword">typename</emphasis>&#32;T,&#32;qualifier&#32;Q&gt;
63 &#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2glm_2glm_2detail_2setup_8hpp_1a33fdea6f91c5f834105f7415e2a64407">GLM_FUNC_QUALIFIER</link>&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_group__gtx__matrix__factorisation_1ga4e022709c9e7eaad9d7cc315d2cdb05c">rq_decompose</link>(mat&lt;C,&#32;R,&#32;T,&#32;Q&gt;&#32;<emphasis role="keyword">const</emphasis>&amp;&#32;<link linkend="__classes_2lib_2raylib_2src_2external_2glad_8h_1a83ad0ee7f1e06b59c90271716e689080">in</link>,&#32;mat&lt;(<link linkend="__classes_2lib_2external_2stb__vorbis_8c_1ac4cf4b2ab929bd23951a8676eeac086b">C</link>&#32;&lt;&#32;<link linkend="__classes_2lib_2external_2stb__vorbis_8c_1a5c71a5e59a53413cd6c270266d63b031">R</link>&#32;?&#32;<link linkend="__classes_2lib_2external_2stb__vorbis_8c_1ac4cf4b2ab929bd23951a8676eeac086b">C</link>&#32;:&#32;<link linkend="__classes_2lib_2external_2stb__vorbis_8c_1a5c71a5e59a53413cd6c270266d63b031">R</link>),&#32;<link linkend="__classes_2lib_2external_2stb__vorbis_8c_1a5c71a5e59a53413cd6c270266d63b031">R</link>,&#32;T,&#32;Q&gt;&amp;&#32;<link linkend="__classes_2lib_2raylib_2src_2external_2glad_8h_1abe08814c2f72843fde4d8df41440d5a0">r</link>,&#32;mat&lt;<link linkend="__classes_2lib_2external_2stb__vorbis_8c_1ac4cf4b2ab929bd23951a8676eeac086b">C</link>,&#32;(<link linkend="__classes_2lib_2external_2stb__vorbis_8c_1ac4cf4b2ab929bd23951a8676eeac086b">C</link>&#32;&lt;&#32;<link linkend="__classes_2lib_2external_2stb__vorbis_8c_1a5c71a5e59a53413cd6c270266d63b031">R</link>&#32;?&#32;<link linkend="__classes_2lib_2external_2stb__vorbis_8c_1ac4cf4b2ab929bd23951a8676eeac086b">C</link>&#32;:&#32;<link linkend="__classes_2lib_2external_2stb__vorbis_8c_1a5c71a5e59a53413cd6c270266d63b031">R</link>),&#32;T,&#32;Q&gt;&amp;&#32;q)
64 &#32;&#32;&#32;&#32;{
65 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;From&#32;https://en.wikipedia.org/wiki/QR_decomposition:</emphasis>
66 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;The&#32;RQ&#32;decomposition&#32;transforms&#32;a&#32;matrix&#32;A&#32;into&#32;the&#32;product&#32;of&#32;an&#32;upper&#32;triangular&#32;matrix&#32;R&#32;(also&#32;known&#32;as&#32;right-triangular)&#32;and&#32;an&#32;orthogonal&#32;matrix&#32;Q.&#32;The&#32;only&#32;difference&#32;from&#32;QR&#32;decomposition&#32;is&#32;the&#32;order&#32;of&#32;these&#32;matrices.</emphasis>
67 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;QR&#32;decomposition&#32;is&#32;Gram–Schmidt&#32;orthogonalization&#32;of&#32;columns&#32;of&#32;A,&#32;started&#32;from&#32;the&#32;first&#32;column.</emphasis>
68 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;RQ&#32;decomposition&#32;is&#32;Gram–Schmidt&#32;orthogonalization&#32;of&#32;rows&#32;of&#32;A,&#32;started&#32;from&#32;the&#32;last&#32;row.</emphasis>
69 
70 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;mat&lt;R,&#32;C,&#32;T,&#32;Q&gt;&#32;tin&#32;=&#32;<link linkend="__classes_2lib_2raylib_2src_2external_2_a_n_g_l_e_2_g_l_e_s2_2gl2ext_8h_1abddae8e27995e1aa57df4d93edd33803">transpose</link>(<link linkend="__classes_2lib_2raylib_2src_2external_2glad_8h_1a83ad0ee7f1e06b59c90271716e689080">in</link>);
71 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;tin&#32;=&#32;<link linkend="_group__gtx__matrix__factorisation_1gaf44ef34db04c55013bc3d9eee990b80c">fliplr</link>(tin);
72 
73 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;mat&lt;<link linkend="__classes_2lib_2external_2stb__vorbis_8c_1a5c71a5e59a53413cd6c270266d63b031">R</link>,&#32;(C&#32;&lt;&#32;R&#32;?&#32;C&#32;:&#32;R),&#32;T,&#32;Q&gt;&#32;tr;
74 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;mat&lt;(C&#32;&lt;&#32;R&#32;?&#32;C&#32;:&#32;R),&#32;C,&#32;T,&#32;Q&gt;&#32;tq;
75 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_group__gtx__matrix__factorisation_1ga77022dca1aa38add548f9f56a9f8071a">qr_decompose</link>(tin,&#32;tq,&#32;tr);
76 
77 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;tr&#32;=&#32;<link linkend="_group__gtx__matrix__factorisation_1gaf44ef34db04c55013bc3d9eee990b80c">fliplr</link>(tr);
78 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2raylib_2src_2external_2glad_8h_1abe08814c2f72843fde4d8df41440d5a0">r</link>&#32;=&#32;<link linkend="__classes_2lib_2raylib_2src_2external_2_a_n_g_l_e_2_g_l_e_s2_2gl2ext_8h_1abddae8e27995e1aa57df4d93edd33803">transpose</link>(tr);
79 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2raylib_2src_2external_2glad_8h_1abe08814c2f72843fde4d8df41440d5a0">r</link>&#32;=&#32;<link linkend="_group__gtx__matrix__factorisation_1gaf44ef34db04c55013bc3d9eee990b80c">fliplr</link>(<link linkend="__classes_2lib_2raylib_2src_2external_2glad_8h_1abe08814c2f72843fde4d8df41440d5a0">r</link>);
80 
81 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;tq&#32;=&#32;<link linkend="_group__gtx__matrix__factorisation_1gaf44ef34db04c55013bc3d9eee990b80c">fliplr</link>(tq);
82 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;q&#32;=&#32;<link linkend="__classes_2lib_2raylib_2src_2external_2_a_n_g_l_e_2_g_l_e_s2_2gl2ext_8h_1abddae8e27995e1aa57df4d93edd33803">transpose</link>(tq);
83 &#32;&#32;&#32;&#32;}
84 }&#32;<emphasis role="comment">//namespace&#32;glm</emphasis>
</programlisting></section>
