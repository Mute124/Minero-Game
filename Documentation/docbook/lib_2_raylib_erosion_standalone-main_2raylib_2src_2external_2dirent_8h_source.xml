<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<section xmlns="http://docbook.org/ns/docbook" version="5.0" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="_lib_2_raylib_erosion_standalone-main_2raylib_2src_2external_2dirent_8h_source" xml:lang="en-US">
<title>dirent.h</title>
<indexterm><primary>C:/Users/HP/Documents/GitHub/Minero-Game/lib/RaylibErosionStandalone-main/raylib/src/external/dirent.h</primary></indexterm>
Go to the documentation of this file.<programlisting linenumbering="unnumbered">1 <emphasis role="comment">/****************************************************************************</emphasis>
2 <emphasis role="comment"></emphasis>
3 <emphasis role="comment">&#32;&#32;&#32;&#32;Declaration&#32;of&#32;POSIX&#32;directory&#32;browsing&#32;functions&#32;and&#32;types&#32;for&#32;Win32.</emphasis>
4 <emphasis role="comment"></emphasis>
5 <emphasis role="comment">&#32;&#32;&#32;&#32;Author:&#32;&#32;Kevlin&#32;Henney&#32;(kevlin@acm.org,&#32;kevlin@curbralan.com)</emphasis>
6 <emphasis role="comment">&#32;&#32;&#32;&#32;History:&#32;Created&#32;March&#32;1997.&#32;Updated&#32;June&#32;2003.</emphasis>
7 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Reviewed&#32;by&#32;Ramon&#32;Santamaria&#32;for&#32;raylib&#32;on&#32;January&#32;2020.</emphasis>
8 <emphasis role="comment"></emphasis>
9 <emphasis role="comment">&#32;&#32;&#32;&#32;Copyright&#32;Kevlin&#32;Henney,&#32;1997,&#32;2003.&#32;All&#32;rights&#32;reserved.</emphasis>
10 <emphasis role="comment"></emphasis>
11 <emphasis role="comment">&#32;&#32;&#32;&#32;Permission&#32;to&#32;use,&#32;copy,&#32;modify,&#32;and&#32;distribute&#32;this&#32;software&#32;and&#32;its</emphasis>
12 <emphasis role="comment">&#32;&#32;&#32;&#32;documentation&#32;for&#32;any&#32;purpose&#32;is&#32;hereby&#32;granted&#32;without&#32;fee,&#32;provided</emphasis>
13 <emphasis role="comment">&#32;&#32;&#32;&#32;that&#32;this&#32;copyright&#32;and&#32;permissions&#32;notice&#32;appear&#32;in&#32;all&#32;copies&#32;and</emphasis>
14 <emphasis role="comment">&#32;&#32;&#32;&#32;derivatives.</emphasis>
15 <emphasis role="comment">&#32;&#32;&#32;&#32;</emphasis>
16 <emphasis role="comment">&#32;&#32;&#32;&#32;This&#32;software&#32;is&#32;supplied&#32;&quot;as&#32;is&quot;&#32;without&#32;express&#32;or&#32;implied&#32;warranty.</emphasis>
17 <emphasis role="comment"></emphasis>
18 <emphasis role="comment">&#32;&#32;&#32;&#32;But&#32;that&#32;said,&#32;if&#32;there&#32;are&#32;any&#32;problems&#32;please&#32;get&#32;in&#32;touch.</emphasis>
19 <emphasis role="comment"></emphasis>
20 <emphasis role="comment">****************************************************************************/</emphasis>
21 
22 <emphasis role="preprocessor">#ifndef&#32;DIRENT_H</emphasis>
23 <emphasis role="preprocessor">#define&#32;DIRENT_H</emphasis>
24 
25 <emphasis role="comment">//&#32;Allow&#32;custom&#32;memory&#32;allocators</emphasis>
26 <emphasis role="preprocessor">#ifndef&#32;DIRENT_MALLOC</emphasis>
27 <emphasis role="preprocessor">&#32;&#32;&#32;&#32;#define&#32;DIRENT_MALLOC(sz)&#32;&#32;&#32;malloc(sz)</emphasis>
28 <emphasis role="preprocessor">#endif</emphasis>
29 <emphasis role="preprocessor">#ifndef&#32;DIRENT_FREE</emphasis>
30 <emphasis role="preprocessor">&#32;&#32;&#32;&#32;#define&#32;DIRENT_FREE(p)&#32;&#32;&#32;&#32;&#32;&#32;free(p)</emphasis>
31 <emphasis role="preprocessor">#endif</emphasis>
32 
33 <emphasis role="comment">//----------------------------------------------------------------------------------</emphasis>
34 <emphasis role="comment">//&#32;Types&#32;and&#32;Structures&#32;Definition</emphasis>
35 <emphasis role="comment">//----------------------------------------------------------------------------------</emphasis>
36 
37 <emphasis role="comment">//&#32;Fordward&#32;declaration&#32;of&#32;DIR,&#32;implementation&#32;below</emphasis>
38 <emphasis role="keyword">typedef</emphasis>&#32;<emphasis role="keyword">struct&#32;</emphasis><link linkend="_struct_d_i_r">DIR</link>&#32;<link linkend="_struct_d_i_r">DIR</link>;
39 
40 <emphasis role="keyword">struct&#32;</emphasis><link linkend="_structdirent">dirent</link>&#32;{
41 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">char</emphasis>&#32;*<link linkend="_structdirent_1ade6539fbd4630ef56bbf2eba9c6cef53">d_name</link>;
42 };
43 
44 <emphasis role="preprocessor">#ifdef&#32;__cplusplus</emphasis>
45 <emphasis role="keyword">extern</emphasis>&#32;<emphasis role="stringliteral">&quot;C&quot;</emphasis>&#32;{
46 <emphasis role="preprocessor">#endif</emphasis>
47 
48 <emphasis role="comment">//------------------------------------------------------------------------------------</emphasis>
49 <emphasis role="comment">//&#32;Functions&#32;Declaration</emphasis>
50 <emphasis role="comment">//------------------------------------------------------------------------------------</emphasis>
51 <link linkend="_struct_d_i_r">DIR</link>&#32;*<link linkend="__classes_2lib_2external_2dirent_8h_1a4fcc7ee570eeaee1fe6264604b91257f">opendir</link>(<emphasis role="keyword">const</emphasis>&#32;<emphasis role="keywordtype">char</emphasis>&#32;*<link linkend="__classes_2lib_2raylib_2src_2external_2_a_n_g_l_e_2_e_g_l_2eglext_8h_1a14d7642df08c5cb68e4fb90cc8a73509">name</link>);
52 <emphasis role="keywordtype">int</emphasis>&#32;<link linkend="__classes_2lib_2external_2dirent_8h_1ac0258906f9453b8abf03e945aa9c9676">closedir</link>(<link linkend="_struct_d_i_r">DIR</link>&#32;*dir);
53 <emphasis role="keyword">struct&#32;</emphasis><link linkend="_structdirent">dirent</link>&#32;*<link linkend="__classes_2lib_2external_2dirent_8h_1ab1ebcf210f49b305423bcc413c6427ee">readdir</link>(<link linkend="_struct_d_i_r">DIR</link>&#32;*dir);
54 <emphasis role="keywordtype">void</emphasis>&#32;<link linkend="__classes_2lib_2external_2dirent_8h_1aa9b34669494ad61ee2035dee1eefee4f">rewinddir</link>(<link linkend="_struct_d_i_r">DIR</link>&#32;*dir);
55 
56 <emphasis role="preprocessor">#ifdef&#32;__cplusplus</emphasis>
57 }
58 <emphasis role="preprocessor">#endif</emphasis>
59 
60 <emphasis role="preprocessor">#endif&#32;&#32;&#32;&#32;&#32;&#32;</emphasis><emphasis role="comment">//&#32;DIRENT_H</emphasis>
61 
62 <emphasis role="comment">/****************************************************************************</emphasis>
63 <emphasis role="comment"></emphasis>
64 <emphasis role="comment">&#32;&#32;&#32;&#32;Implementation&#32;of&#32;POSIX&#32;directory&#32;browsing&#32;functions&#32;and&#32;types&#32;for&#32;Win32.</emphasis>
65 <emphasis role="comment"></emphasis>
66 <emphasis role="comment">&#32;&#32;&#32;&#32;Author:&#32;&#32;Kevlin&#32;Henney&#32;(kevlin@acm.org,&#32;kevlin@curbralan.com)</emphasis>
67 <emphasis role="comment">&#32;&#32;&#32;&#32;History:&#32;Created&#32;March&#32;1997.&#32;Updated&#32;June&#32;2003.</emphasis>
68 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Reviewed&#32;by&#32;Ramon&#32;Santamaria&#32;for&#32;raylib&#32;on&#32;January&#32;2020.</emphasis>
69 <emphasis role="comment"></emphasis>
70 <emphasis role="comment">&#32;&#32;&#32;&#32;Copyright&#32;Kevlin&#32;Henney,&#32;1997,&#32;2003.&#32;All&#32;rights&#32;reserved.</emphasis>
71 <emphasis role="comment"></emphasis>
72 <emphasis role="comment">&#32;&#32;&#32;&#32;Permission&#32;to&#32;use,&#32;copy,&#32;modify,&#32;and&#32;distribute&#32;this&#32;software&#32;and&#32;its</emphasis>
73 <emphasis role="comment">&#32;&#32;&#32;&#32;documentation&#32;for&#32;any&#32;purpose&#32;is&#32;hereby&#32;granted&#32;without&#32;fee,&#32;provided</emphasis>
74 <emphasis role="comment">&#32;&#32;&#32;&#32;that&#32;this&#32;copyright&#32;and&#32;permissions&#32;notice&#32;appear&#32;in&#32;all&#32;copies&#32;and</emphasis>
75 <emphasis role="comment">&#32;&#32;&#32;&#32;derivatives.</emphasis>
76 <emphasis role="comment">&#32;&#32;&#32;&#32;</emphasis>
77 <emphasis role="comment">&#32;&#32;&#32;&#32;This&#32;software&#32;is&#32;supplied&#32;&quot;as&#32;is&quot;&#32;without&#32;express&#32;or&#32;implied&#32;warranty.</emphasis>
78 <emphasis role="comment"></emphasis>
79 <emphasis role="comment">&#32;&#32;&#32;&#32;But&#32;that&#32;said,&#32;if&#32;there&#32;are&#32;any&#32;problems&#32;please&#32;get&#32;in&#32;touch.</emphasis>
80 <emphasis role="comment"></emphasis>
81 <emphasis role="comment">****************************************************************************/</emphasis>
82 
83 <emphasis role="preprocessor">#include&#32;&lt;io.h&gt;</emphasis>&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;_findfirst&#32;and&#32;_findnext&#32;set&#32;errno&#32;iff&#32;they&#32;return&#32;-1</emphasis>
84 <emphasis role="preprocessor">#include&#32;&lt;stdlib.h&gt;</emphasis>
85 <emphasis role="preprocessor">#include&#32;&lt;string.h&gt;</emphasis>
86 <emphasis role="preprocessor">#include&#32;&lt;errno.h&gt;</emphasis>
87 
88 <emphasis role="comment">//----------------------------------------------------------------------------------</emphasis>
89 <emphasis role="comment">//&#32;Types&#32;and&#32;Structures&#32;Definition</emphasis>
90 <emphasis role="comment">//----------------------------------------------------------------------------------</emphasis>
91 <emphasis role="keyword">typedef</emphasis>&#32;<link linkend="__classes_2lib_2include_2stddef_8h_1a6d26a0475a6d6c897e655cdc5d8019d2">ptrdiff_t</link>&#32;<link linkend="__classes_2lib_2external_2dirent_8h_1a399d6f07b81ec726a8973e3c939cca48">handle_type</link>;&#32;&#32;<emphasis role="comment">//&#32;C99&apos;s&#32;intptr_t&#32;not&#32;sufficiently&#32;portable</emphasis>
92 
93 <emphasis role="keyword">struct&#32;</emphasis><link linkend="_struct_d_i_r">DIR</link>&#32;{
94 &#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2dirent_8h_1a399d6f07b81ec726a8973e3c939cca48">handle_type</link>&#32;<link linkend="_struct_d_i_r_1a0aa3b74a9f3be1342dcadc1ae718344a">handle</link>;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;-1&#32;for&#32;failed&#32;rewind</emphasis>
95 &#32;&#32;&#32;&#32;<emphasis role="keyword">struct&#32;</emphasis>_finddata_t&#32;<link linkend="_struct_d_i_r_1a25db78b325dfc596ab79010a1a198148">info</link>;
96 &#32;&#32;&#32;&#32;<emphasis role="keyword">struct&#32;</emphasis><link linkend="_structdirent">dirent</link>&#32;<link linkend="__classes_2lib_2glm_2test_2core_2core__func__integer_8cpp_1a937d4dd628a8858b443a399410d2600b">result</link>;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;d_name&#32;null&#32;iff&#32;first&#32;time</emphasis>
97 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">char</emphasis>&#32;*<link linkend="_struct_d_i_r_1aae8dcea9f742bdd636778088b41a08f2">name</link>;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;null-terminated&#32;char&#32;string</emphasis>
98 };
99 
100 <link linkend="_struct_d_i_r">DIR</link>&#32;*<link linkend="__classes_2lib_2external_2dirent_8h_1a4fcc7ee570eeaee1fe6264604b91257f">opendir</link>(<emphasis role="keyword">const</emphasis>&#32;<emphasis role="keywordtype">char</emphasis>&#32;*<link linkend="__classes_2lib_2raylib_2src_2external_2_a_n_g_l_e_2_e_g_l_2eglext_8h_1a14d7642df08c5cb68e4fb90cc8a73509">name</link>)
101 {
102 &#32;&#32;&#32;&#32;<link linkend="_struct_d_i_r">DIR</link>&#32;*dir&#32;=&#32;0;
103 
104 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(<link linkend="__classes_2lib_2raylib_2src_2external_2_a_n_g_l_e_2_e_g_l_2eglext_8h_1a14d7642df08c5cb68e4fb90cc8a73509">name</link>&#32;&amp;&amp;&#32;<link linkend="__classes_2lib_2raylib_2src_2external_2_a_n_g_l_e_2_e_g_l_2eglext_8h_1a14d7642df08c5cb68e4fb90cc8a73509">name</link>[0])
105 &#32;&#32;&#32;&#32;{
106 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">size_t</emphasis>&#32;base_length&#32;=&#32;strlen(<link linkend="__classes_2lib_2raylib_2src_2external_2_a_n_g_l_e_2_e_g_l_2eglext_8h_1a14d7642df08c5cb68e4fb90cc8a73509">name</link>);
107 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;
108 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Search&#32;pattern&#32;must&#32;end&#32;with&#32;suitable&#32;wildcard</emphasis>
109 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">const</emphasis>&#32;<emphasis role="keywordtype">char</emphasis>&#32;*all&#32;=&#32;strchr(<emphasis role="stringliteral">&quot;/\\&quot;</emphasis>,&#32;<link linkend="__classes_2lib_2raylib_2src_2external_2_a_n_g_l_e_2_e_g_l_2eglext_8h_1a14d7642df08c5cb68e4fb90cc8a73509">name</link>[base_length&#32;-&#32;1])&#32;?&#32;<emphasis role="stringliteral">&quot;*&quot;</emphasis>&#32;:&#32;<emphasis role="stringliteral">&quot;/*&quot;</emphasis>;
110 
111 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;((dir&#32;=&#32;(<link linkend="_struct_d_i_r">DIR</link>&#32;*)<link linkend="__classes_2lib_2external_2dirent_8h_1acd1b0e99956e2b1293ea8b248ab7f68b">DIRENT_MALLOC</link>(<emphasis role="keyword">sizeof</emphasis>&#32;*dir))&#32;!=&#32;0&#32;&amp;&amp;
112 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;(dir-&gt;<link linkend="_struct_d_i_r_1aae8dcea9f742bdd636778088b41a08f2">name</link>&#32;=&#32;(<emphasis role="keywordtype">char</emphasis>&#32;*)<link linkend="__classes_2lib_2external_2dirent_8h_1acd1b0e99956e2b1293ea8b248ab7f68b">DIRENT_MALLOC</link>(base_length&#32;+&#32;strlen(all)&#32;+&#32;1))&#32;!=&#32;0)
113 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
114 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;strcat(strcpy(dir-&gt;<link linkend="_struct_d_i_r_1aae8dcea9f742bdd636778088b41a08f2">name</link>,&#32;<link linkend="__classes_2lib_2raylib_2src_2external_2_a_n_g_l_e_2_e_g_l_2eglext_8h_1a14d7642df08c5cb68e4fb90cc8a73509">name</link>),&#32;all);
115 
116 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;((dir-&gt;<link linkend="_struct_d_i_r_1a0aa3b74a9f3be1342dcadc1ae718344a">handle</link>&#32;=&#32;(<link linkend="__classes_2lib_2external_2dirent_8h_1a399d6f07b81ec726a8973e3c939cca48">handle_type</link>)&#32;_findfirst(dir-&gt;<link linkend="_struct_d_i_r_1aae8dcea9f742bdd636778088b41a08f2">name</link>,&#32;&amp;dir-&gt;<link linkend="_struct_d_i_r_1a25db78b325dfc596ab79010a1a198148">info</link>))&#32;!=&#32;-1)
117 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
118 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;dir-&gt;<link linkend="_struct_d_i_r_1a1f1ae6da74a31151487a73b574997783">result</link>.<link linkend="_structdirent_1ade6539fbd4630ef56bbf2eba9c6cef53">d_name</link>&#32;=&#32;0;
119 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
120 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">else</emphasis>&#32;&#32;<emphasis role="comment">//&#32;rollback</emphasis>
121 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
122 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2dirent_8h_1a76d075063d3efcf6ea50099914a2dd26">DIRENT_FREE</link>(dir-&gt;<link linkend="_struct_d_i_r_1aae8dcea9f742bdd636778088b41a08f2">name</link>);
123 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2dirent_8h_1a76d075063d3efcf6ea50099914a2dd26">DIRENT_FREE</link>(dir);
124 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;dir&#32;=&#32;0;
125 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
126 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
127 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">else</emphasis>&#32;&#32;<emphasis role="comment">//&#32;rollback</emphasis>
128 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
129 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2dirent_8h_1a76d075063d3efcf6ea50099914a2dd26">DIRENT_FREE</link>(dir);
130 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;dir&#32;&#32;&#32;=&#32;0;
131 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;errno&#32;=&#32;ENOMEM;
132 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
133 &#32;&#32;&#32;&#32;}
134 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">else</emphasis>&#32;errno&#32;=&#32;EINVAL;
135 
136 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;dir;
137 }
138 
139 <emphasis role="keywordtype">int</emphasis>&#32;<link linkend="__classes_2lib_2external_2dirent_8h_1ac0258906f9453b8abf03e945aa9c9676">closedir</link>(<link linkend="_struct_d_i_r">DIR</link>&#32;*dir)
140 {
141 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;<link linkend="__classes_2lib_2glm_2test_2core_2core__func__integer_8cpp_1a937d4dd628a8858b443a399410d2600b">result</link>&#32;=&#32;-1;
142 
143 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(dir)
144 &#32;&#32;&#32;&#32;{
145 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(dir-&gt;<link linkend="_struct_d_i_r_1a0aa3b74a9f3be1342dcadc1ae718344a">handle</link>&#32;!=&#32;-1)&#32;<link linkend="__classes_2lib_2glm_2test_2core_2core__func__integer_8cpp_1a937d4dd628a8858b443a399410d2600b">result</link>&#32;=&#32;_findclose(dir-&gt;<link linkend="_struct_d_i_r_1a0aa3b74a9f3be1342dcadc1ae718344a">handle</link>);
146 
147 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2dirent_8h_1a76d075063d3efcf6ea50099914a2dd26">DIRENT_FREE</link>(dir-&gt;<link linkend="_struct_d_i_r_1aae8dcea9f742bdd636778088b41a08f2">name</link>);
148 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2dirent_8h_1a76d075063d3efcf6ea50099914a2dd26">DIRENT_FREE</link>(dir);
149 &#32;&#32;&#32;&#32;}
150 
151 &#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;NOTE:&#32;All&#32;errors&#32;ampped&#32;to&#32;EBADF</emphasis>
152 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(<link linkend="__classes_2lib_2glm_2test_2core_2core__func__integer_8cpp_1a937d4dd628a8858b443a399410d2600b">result</link>&#32;==&#32;-1)&#32;errno&#32;=&#32;EBADF;
153 
154 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;<link linkend="__classes_2lib_2glm_2test_2core_2core__func__integer_8cpp_1a937d4dd628a8858b443a399410d2600b">result</link>;
155 }
156 
157 <emphasis role="keyword">struct&#32;</emphasis><link linkend="_structdirent">dirent</link>&#32;*<link linkend="__classes_2lib_2external_2dirent_8h_1ab1ebcf210f49b305423bcc413c6427ee">readdir</link>(<link linkend="_struct_d_i_r">DIR</link>&#32;*dir)
158 {
159 &#32;&#32;&#32;&#32;<emphasis role="keyword">struct&#32;</emphasis><link linkend="_structdirent">dirent</link>&#32;*<link linkend="__classes_2lib_2glm_2test_2core_2core__func__integer_8cpp_1a937d4dd628a8858b443a399410d2600b">result</link>&#32;=&#32;0;
160 
161 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(dir&#32;&amp;&amp;&#32;dir-&gt;<link linkend="_struct_d_i_r_1a0aa3b74a9f3be1342dcadc1ae718344a">handle</link>&#32;!=&#32;-1)
162 &#32;&#32;&#32;&#32;{
163 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(!dir-&gt;<link linkend="_struct_d_i_r_1a1f1ae6da74a31151487a73b574997783">result</link>.<link linkend="_structdirent_1ade6539fbd4630ef56bbf2eba9c6cef53">d_name</link>&#32;||&#32;_findnext(dir-&gt;<link linkend="_struct_d_i_r_1a0aa3b74a9f3be1342dcadc1ae718344a">handle</link>,&#32;&amp;dir-&gt;<link linkend="_struct_d_i_r_1a25db78b325dfc596ab79010a1a198148">info</link>)&#32;!=&#32;-1)
164 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
165 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2glm_2test_2core_2core__func__integer_8cpp_1a937d4dd628a8858b443a399410d2600b">result</link>&#32;=&#32;&amp;dir-&gt;<link linkend="_struct_d_i_r_1a1f1ae6da74a31151487a73b574997783">result</link>;
166 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2glm_2test_2core_2core__func__integer_8cpp_1a937d4dd628a8858b443a399410d2600b">result</link>-&gt;<link linkend="_structdirent_1ade6539fbd4630ef56bbf2eba9c6cef53">d_name</link>&#32;=&#32;dir-&gt;<link linkend="_struct_d_i_r_1a25db78b325dfc596ab79010a1a198148">info</link>.name;
167 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
168 &#32;&#32;&#32;&#32;}
169 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">else</emphasis>&#32;errno&#32;=&#32;EBADF;
170 
171 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;<link linkend="__classes_2lib_2glm_2test_2core_2core__func__integer_8cpp_1a937d4dd628a8858b443a399410d2600b">result</link>;
172 }
173 
174 <emphasis role="keywordtype">void</emphasis>&#32;<link linkend="__classes_2lib_2external_2dirent_8h_1aa9b34669494ad61ee2035dee1eefee4f">rewinddir</link>(<link linkend="_struct_d_i_r">DIR</link>&#32;*dir)
175 {
176 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(dir&#32;&amp;&amp;&#32;dir-&gt;<link linkend="_struct_d_i_r_1a0aa3b74a9f3be1342dcadc1ae718344a">handle</link>&#32;!=&#32;-1)
177 &#32;&#32;&#32;&#32;{
178 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;_findclose(dir-&gt;<link linkend="_struct_d_i_r_1a0aa3b74a9f3be1342dcadc1ae718344a">handle</link>);
179 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;dir-&gt;<link linkend="_struct_d_i_r_1a0aa3b74a9f3be1342dcadc1ae718344a">handle</link>&#32;=&#32;(<link linkend="__classes_2lib_2external_2dirent_8h_1a399d6f07b81ec726a8973e3c939cca48">handle_type</link>)&#32;_findfirst(dir-&gt;<link linkend="_struct_d_i_r_1aae8dcea9f742bdd636778088b41a08f2">name</link>,&#32;&amp;dir-&gt;<link linkend="_struct_d_i_r_1a25db78b325dfc596ab79010a1a198148">info</link>);
180 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;dir-&gt;<link linkend="_struct_d_i_r_1a1f1ae6da74a31151487a73b574997783">result</link>.<link linkend="_structdirent_1ade6539fbd4630ef56bbf2eba9c6cef53">d_name</link>&#32;=&#32;0;
181 &#32;&#32;&#32;&#32;}
182 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">else</emphasis>&#32;errno&#32;=&#32;EBADF;
183 }
</programlisting></section>
