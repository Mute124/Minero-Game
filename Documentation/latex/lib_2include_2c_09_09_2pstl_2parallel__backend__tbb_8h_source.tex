\doxysection{parallel\+\_\+backend\+\_\+tbb.\+h}
\hypertarget{lib_2include_2c_09_09_2pstl_2parallel__backend__tbb_8h_source}{}\label{lib_2include_2c_09_09_2pstl_2parallel__backend__tbb_8h_source}\index{C:/Users/HP/Documents/GitHub/Minero-\/Game/lib/include/c++/pstl/parallel\_backend\_tbb.h@{C:/Users/HP/Documents/GitHub/Minero-\/Game/lib/include/c++/pstl/parallel\_backend\_tbb.h}}
\mbox{\hyperlink{lib_2include_2c_09_09_2pstl_2parallel__backend__tbb_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//\ -\/*-\/\ C++\ -\/*-\/}}
\DoxyCodeLine{00002\ \textcolor{comment}{//===-\/-\/\ parallel\_backend\_tbb.h\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/===//}}
\DoxyCodeLine{00003\ \textcolor{comment}{//}}
\DoxyCodeLine{00004\ \textcolor{comment}{//\ Part\ of\ the\ LLVM\ Project,\ under\ the\ Apache\ License\ v2.0\ with\ LLVM\ Exceptions.}}
\DoxyCodeLine{00005\ \textcolor{comment}{//\ See\ https://llvm.org/LICENSE.txt\ for\ license\ information.}}
\DoxyCodeLine{00006\ \textcolor{comment}{//\ SPDX-\/License-\/Identifier:\ Apache-\/2.0\ WITH\ LLVM-\/exception}}
\DoxyCodeLine{00007\ \textcolor{comment}{//}}
\DoxyCodeLine{00008\ \textcolor{comment}{//===-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/===//}}
\DoxyCodeLine{00009\ }
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#ifndef\ \_PSTL\_PARALLEL\_BACKEND\_TBB\_H}}
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#define\ \_PSTL\_PARALLEL\_BACKEND\_TBB\_H}}
\DoxyCodeLine{00012\ }
\DoxyCodeLine{00013\ \textcolor{preprocessor}{\#include\ <algorithm>}}
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#include\ <type\_traits>}}
\DoxyCodeLine{00015\ }
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_old_2_classes_2lib_2include_2c_09_09_2pstl_2parallel__backend__utils_8h}{parallel\_backend\_utils.h}}"{}}}
\DoxyCodeLine{00017\ }
\DoxyCodeLine{00018\ \textcolor{comment}{//\ Bring\ in\ minimal\ required\ subset\ of\ Intel\ TBB}}
\DoxyCodeLine{00019\ \textcolor{preprocessor}{\#include\ <tbb/blocked\_range.h>}}
\DoxyCodeLine{00020\ \textcolor{preprocessor}{\#include\ <tbb/parallel\_for.h>}}
\DoxyCodeLine{00021\ \textcolor{preprocessor}{\#include\ <tbb/parallel\_reduce.h>}}
\DoxyCodeLine{00022\ \textcolor{preprocessor}{\#include\ <tbb/parallel\_scan.h>}}
\DoxyCodeLine{00023\ \textcolor{preprocessor}{\#include\ <tbb/parallel\_invoke.h>}}
\DoxyCodeLine{00024\ \textcolor{preprocessor}{\#include\ <tbb/task\_arena.h>}}
\DoxyCodeLine{00025\ \textcolor{preprocessor}{\#include\ <tbb/tbb\_allocator.h>}}
\DoxyCodeLine{00026\ \textcolor{preprocessor}{\#include\ <tbb/task.h>}}
\DoxyCodeLine{00027\ }
\DoxyCodeLine{00028\ \textcolor{preprocessor}{\#if\ TBB\_INTERFACE\_VERSION\ <\ 10000}}
\DoxyCodeLine{00029\ \textcolor{preprocessor}{\#\ \ \ \ error\ Intel(R)\ Threading\ Building\ Blocks\ 2018\ is\ required;\ older\ versions\ are\ not\ supported.}}
\DoxyCodeLine{00030\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00031\ }
\DoxyCodeLine{00032\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespace____pstl}{\_\_pstl}}}
\DoxyCodeLine{00033\ \{}
\DoxyCodeLine{00034\ \textcolor{keyword}{namespace\ }\_\_tbb\_backend}
\DoxyCodeLine{00035\ \{}
\DoxyCodeLine{00036\ }
\DoxyCodeLine{00038\ }
\DoxyCodeLine{00041\ \textcolor{comment}{//\ tbb::allocator\ can\ improve\ performance\ in\ some\ cases.}}
\DoxyCodeLine{00042\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ \_Tp>}
\DoxyCodeLine{00043\ \textcolor{keyword}{class\ }\_\_buffer}
\DoxyCodeLine{00044\ \{}
\DoxyCodeLine{00045\ \ \ \ \ tbb::tbb\_allocator<\_Tp>\ \_M\_allocator;}
\DoxyCodeLine{00046\ \ \ \ \ \_Tp*\ \_M\_ptr;}
\DoxyCodeLine{00047\ \ \ \ \ \textcolor{keyword}{const}\ std::size\_t\ \_M\_buf\_size;}
\DoxyCodeLine{00048\ \ \ \ \ \_\_buffer(\textcolor{keyword}{const}\ \_\_buffer\&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{00049\ \ \ \ \ \textcolor{keywordtype}{void}}
\DoxyCodeLine{00050\ \ \ \ \ operator=(\textcolor{keyword}{const}\ \_\_buffer\&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{00051\ }
\DoxyCodeLine{00052\ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00054\ \ \ \ \ \mbox{\hyperlink{class____pstl_1_1____tbb__backend_1_1____buffer_add418ab10602c3e0ee104d43fe70508b}{\_\_buffer}}(std::size\_t\ n)\ :\ \_M\_allocator(),\ \_M\_ptr(\_M\_allocator.allocate(n)),\ \_M\_buf\_size(n)\ \{\}}
\DoxyCodeLine{00056\ \ \ \ \ \textcolor{keyword}{operator}\ \mbox{\hyperlink{_classes_2lib_2include_2stdbool_8h_abb452686968e48b67397da5f97445f5b}{bool}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \_M\_ptr\ !=\ \mbox{\hyperlink{_classes_2lib_2external_2miniaudio_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};\ \}}
\DoxyCodeLine{00058\ \ \ \ \ \_Tp*}
\DoxyCodeLine{00059\ \ \ \ \ \mbox{\hyperlink{class____pstl_1_1____tbb__backend_1_1____buffer_a4c50301000475a7f96f6a8270559c0df}{get}}()\textcolor{keyword}{\ const}}
\DoxyCodeLine{00060\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{00061\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \_M\_ptr;}
\DoxyCodeLine{00062\ \ \ \ \ \}}
\DoxyCodeLine{00064\ \ \ \ \ \mbox{\hyperlink{class____pstl_1_1____tbb__backend_1_1____buffer_af1d24ec591115c5879d6ab60d33ca03a}{\string~\_\_buffer}}()\ \{\ \_M\_allocator.deallocate(\_M\_ptr,\ \_M\_buf\_size);\ \}}
\DoxyCodeLine{00065\ \};}
\DoxyCodeLine{00066\ }
\DoxyCodeLine{00067\ \textcolor{comment}{//\ Wrapper\ for\ tbb::task}}
\DoxyCodeLine{00068\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}}
\DoxyCodeLine{00069\ \mbox{\hyperlink{namespace____pstl_1_1____tbb__backend_a2ce0aab329490eb18c3aa27835c00cd2}{\_\_cancel\_execution}}()}
\DoxyCodeLine{00070\ \{}
\DoxyCodeLine{00071\ \textcolor{preprocessor}{\#if\ TBB\_INTERFACE\_VERSION\ <=\ 12000}}
\DoxyCodeLine{00072\ \ \ \ \ tbb::task::self().group()-\/>cancel\_group\_execution();}
\DoxyCodeLine{00073\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00074\ \ \ \ \ tbb::task::current\_context()-\/>cancel\_group\_execution();}
\DoxyCodeLine{00075\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00076\ \}}
\DoxyCodeLine{00077\ }
\DoxyCodeLine{00078\ \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00079\ \textcolor{comment}{//\ parallel\_for}}
\DoxyCodeLine{00080\ \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00081\ }
\DoxyCodeLine{00082\ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ \_Index,\ \textcolor{keyword}{class}\ \_RealBody>}
\DoxyCodeLine{00083\ \textcolor{keyword}{class\ }\_\_parallel\_for\_body}
\DoxyCodeLine{00084\ \{}
\DoxyCodeLine{00085\ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00086\ \ \ \ \ \mbox{\hyperlink{class____pstl_1_1____tbb__backend_1_1____parallel__for__body_aa682a4463f49145dfd7d5ed768974ef2}{\_\_parallel\_for\_body}}(\textcolor{keyword}{const}\ \_RealBody\&\ \_\_body)\ :\ \_M\_body(\_\_body)\ \{\}}
\DoxyCodeLine{00087\ \ \ \ \ \mbox{\hyperlink{class____pstl_1_1____tbb__backend_1_1____parallel__for__body_a52446154fe60fe6dd04b0f965a3d1786}{\_\_parallel\_for\_body}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{class____pstl_1_1____tbb__backend_1_1____parallel__for__body}{\_\_parallel\_for\_body}}\&\ \_\_body)\ :\ \_M\_body(\_\_body.\_M\_body)\ \{\}}
\DoxyCodeLine{00088\ \ \ \ \ \textcolor{keywordtype}{void}}
\DoxyCodeLine{00089\ \ \ \ \ \mbox{\hyperlink{class____pstl_1_1____tbb__backend_1_1____parallel__for__body_a97d97b9fec57adcd48bb74f8a15b9ae3}{operator()}}(\textcolor{keyword}{const}\ tbb::blocked\_range<\_Index>\&\ \_\_range)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00090\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{00091\ \ \ \ \ \ \ \ \ \_M\_body(\_\_range.begin(),\ \_\_range.end());}
\DoxyCodeLine{00092\ \ \ \ \ \}}
\DoxyCodeLine{00093\ }
\DoxyCodeLine{00094\ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00095\ \ \ \ \ \_RealBody\ \_M\_body;}
\DoxyCodeLine{00096\ \};}
\DoxyCodeLine{00097\ }
\DoxyCodeLine{00099\ \textcolor{comment}{//\ wrapper\ over\ tbb::parallel\_for}}
\DoxyCodeLine{00100\ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ \_ExecutionPolicy,\ \textcolor{keyword}{class}\ \_Index,\ \textcolor{keyword}{class}\ \_Fp>}
\DoxyCodeLine{00101\ \textcolor{keywordtype}{void}}
\DoxyCodeLine{00102\ \mbox{\hyperlink{namespace____pstl_1_1____tbb__backend_afc697413a9bdd9d9e8e390827a960735}{\_\_parallel\_for}}(\_ExecutionPolicy\&\&,\ \_Index\ \_\_first,\ \_Index\ \_\_last,\ \_Fp\ \_\_f)}
\DoxyCodeLine{00103\ \{}
\DoxyCodeLine{00104\ \ \ \ \ tbb::this\_task\_arena::isolate([=]()\ \{}
\DoxyCodeLine{00105\ \ \ \ \ \ \ \ \ tbb::parallel\_for(tbb::blocked\_range<\_Index>(\_\_first,\ \_\_last),\ \_\_parallel\_for\_body<\_Index,\ \_Fp>(\_\_f));}
\DoxyCodeLine{00106\ \ \ \ \ \});}
\DoxyCodeLine{00107\ \}}
\DoxyCodeLine{00108\ }
\DoxyCodeLine{00110\ \textcolor{comment}{//\ wrapper\ over\ tbb::parallel\_reduce}}
\DoxyCodeLine{00111\ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ \_ExecutionPolicy,\ \textcolor{keyword}{class}\ \_Value,\ \textcolor{keyword}{class}\ \_Index,\ \textcolor{keyword}{typename}\ \_RealBody,\ \textcolor{keyword}{typename}\ \_Reduction>}
\DoxyCodeLine{00112\ \_Value}
\DoxyCodeLine{00113\ \mbox{\hyperlink{namespace____pstl_1_1____tbb__backend_a4a9dd8a02e3599cec8b430574551b661}{\_\_parallel\_reduce}}(\_ExecutionPolicy\&\&,\ \_Index\ \_\_first,\ \_Index\ \_\_last,\ \textcolor{keyword}{const}\ \_Value\&\ \_\_identity,}
\DoxyCodeLine{00114\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \_RealBody\&\ \_\_real\_body,\ \textcolor{keyword}{const}\ \_Reduction\&\ \_\_reduction)}
\DoxyCodeLine{00115\ \{}
\DoxyCodeLine{00116\ \ \ \ \ \textcolor{keywordflow}{return}\ tbb::this\_task\_arena::isolate([\_\_first,\ \_\_last,\ \&\_\_identity,\ \&\_\_real\_body,\ \&\_\_reduction]()\ -\/>\ \_Value\ \{}
\DoxyCodeLine{00117\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ tbb::parallel\_reduce(}
\DoxyCodeLine{00118\ \ \ \ \ \ \ \ \ \ \ \ \ tbb::blocked\_range<\_Index>(\_\_first,\ \_\_last),\ \_\_identity,}
\DoxyCodeLine{00119\ \ \ \ \ \ \ \ \ \ \ \ \ [\_\_real\_body](\textcolor{keyword}{const}\ tbb::blocked\_range<\_Index>\&\ \_\_r,\ \textcolor{keyword}{const}\ \_Value\&\ \_\_value)\ -\/>\ \_Value\ \{}
\DoxyCodeLine{00120\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \_\_real\_body(\_\_r.begin(),\ \_\_r.end(),\ \_\_value);}
\DoxyCodeLine{00121\ \ \ \ \ \ \ \ \ \ \ \ \ \},}
\DoxyCodeLine{00122\ \ \ \ \ \ \ \ \ \ \ \ \ \_\_reduction);}
\DoxyCodeLine{00123\ \ \ \ \ \});}
\DoxyCodeLine{00124\ \}}
\DoxyCodeLine{00125\ }
\DoxyCodeLine{00126\ \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00127\ \textcolor{comment}{//\ parallel\_transform\_reduce}}
\DoxyCodeLine{00128\ \textcolor{comment}{//}}
\DoxyCodeLine{00129\ \textcolor{comment}{//\ Notation:}}
\DoxyCodeLine{00130\ \textcolor{comment}{//\ \ \ \ \ \ r(i,j,init)\ returns\ reduction\ of\ init\ with\ reduction\ over\ [i,j)}}
\DoxyCodeLine{00131\ \textcolor{comment}{//\ \ \ \ \ \ u(i)\ returns\ f(i,i+1,identity)\ for\ a\ hypothetical\ left\ identity\ element\ of\ r}}
\DoxyCodeLine{00132\ \textcolor{comment}{//\ \ \ \ \ \ c(x,y)\ combines\ values\ x\ and\ y\ that\ were\ the\ result\ of\ r\ or\ u}}
\DoxyCodeLine{00133\ \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00134\ }
\DoxyCodeLine{00135\ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ \_Index,\ \textcolor{keyword}{class}\ \_Up,\ \textcolor{keyword}{class}\ \_Tp,\ \textcolor{keyword}{class}\ \_Cp,\ \textcolor{keyword}{class}\ \_Rp>}
\DoxyCodeLine{00136\ \textcolor{keyword}{struct\ }\_\_par\_trans\_red\_body}
\DoxyCodeLine{00137\ \{}
\DoxyCodeLine{00138\ \ \ \ \ \textcolor{keyword}{alignas}(\_Tp)\ \textcolor{keywordtype}{char}\ \mbox{\hyperlink{struct____pstl_1_1____tbb__backend_1_1____par__trans__red__body_a2079d472f07dc5936793198efa345c3a}{\_M\_sum\_storage}}[\textcolor{keyword}{sizeof}(\_Tp)];\ \textcolor{comment}{//\ Holds\ generalized\ non-\/commutative\ sum\ when\ has\_sum==true}}
\DoxyCodeLine{00139\ \ \ \ \ \_Rp\ \mbox{\hyperlink{struct____pstl_1_1____tbb__backend_1_1____par__trans__red__body_a2a784ff00ef4bbdcf311ce23bff770ac}{\_M\_brick\_reduce}};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Most\ likely\ to\ have\ non-\/empty\ layout}}
\DoxyCodeLine{00140\ \ \ \ \ \_Up\ \mbox{\hyperlink{struct____pstl_1_1____tbb__backend_1_1____par__trans__red__body_a3bc703719d6b2134d34a283e271ee7ff}{\_M\_u}};}
\DoxyCodeLine{00141\ \ \ \ \ \_Cp\ \mbox{\hyperlink{struct____pstl_1_1____tbb__backend_1_1____par__trans__red__body_abfcc099c263a186cb36f0ca546cc88bf}{\_M\_combine}};}
\DoxyCodeLine{00142\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{struct____pstl_1_1____tbb__backend_1_1____par__trans__red__body_aca115dabbb3f53237a4926910a8e1eb0}{\_M\_has\_sum}};\ \textcolor{comment}{//\ Put\ last\ to\ minimize\ size\ of\ class}}
\DoxyCodeLine{00143\ \ \ \ \ \_Tp\&}
\DoxyCodeLine{00144\ \ \ \ \ \mbox{\hyperlink{struct____pstl_1_1____tbb__backend_1_1____par__trans__red__body_aa826d7427f4c941478263f1f4e08d607}{sum}}()}
\DoxyCodeLine{00145\ \ \ \ \ \{}
\DoxyCodeLine{00146\ \ \ \ \ \ \ \ \ \_PSTL\_ASSERT\_MSG(\mbox{\hyperlink{struct____pstl_1_1____tbb__backend_1_1____par__trans__red__body_aca115dabbb3f53237a4926910a8e1eb0}{\_M\_has\_sum}},\ \textcolor{stringliteral}{"{}sum\ expected"{}});}
\DoxyCodeLine{00147\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ *(\_Tp*)\mbox{\hyperlink{struct____pstl_1_1____tbb__backend_1_1____par__trans__red__body_a2079d472f07dc5936793198efa345c3a}{\_M\_sum\_storage}};}
\DoxyCodeLine{00148\ \ \ \ \ \}}
\DoxyCodeLine{00149\ \ \ \ \ \mbox{\hyperlink{struct____pstl_1_1____tbb__backend_1_1____par__trans__red__body_ab70c093f5a8c21ecd9dfff695b2669e1}{\_\_par\_trans\_red\_body}}(\_Up\ \_\_u,\ \_Tp\ \_\_init,\ \_Cp\ \_\_c,\ \_Rp\ \_\_r)}
\DoxyCodeLine{00150\ \ \ \ \ \ \ \ \ :\ \mbox{\hyperlink{struct____pstl_1_1____tbb__backend_1_1____par__trans__red__body_a2a784ff00ef4bbdcf311ce23bff770ac}{\_M\_brick\_reduce}}(\_\_r),\ \mbox{\hyperlink{struct____pstl_1_1____tbb__backend_1_1____par__trans__red__body_a3bc703719d6b2134d34a283e271ee7ff}{\_M\_u}}(\_\_u),\ \mbox{\hyperlink{struct____pstl_1_1____tbb__backend_1_1____par__trans__red__body_abfcc099c263a186cb36f0ca546cc88bf}{\_M\_combine}}(\_\_c),\ \mbox{\hyperlink{struct____pstl_1_1____tbb__backend_1_1____par__trans__red__body_aca115dabbb3f53237a4926910a8e1eb0}{\_M\_has\_sum}}(\mbox{\hyperlink{_classes_2lib_2include_2stdbool_8h_a41f9c5fb8b08eb5dc3edce4dcb37fee7}{true}})}
\DoxyCodeLine{00151\ \ \ \ \ \{}
\DoxyCodeLine{00152\ \ \ \ \ \ \ \ \ \textcolor{keyword}{new}\ (\mbox{\hyperlink{struct____pstl_1_1____tbb__backend_1_1____par__trans__red__body_a2079d472f07dc5936793198efa345c3a}{\_M\_sum\_storage}})\ \_Tp(\_\_init);}
\DoxyCodeLine{00153\ \ \ \ \ \}}
\DoxyCodeLine{00154\ }
\DoxyCodeLine{00155\ \ \ \ \ \mbox{\hyperlink{struct____pstl_1_1____tbb__backend_1_1____par__trans__red__body_a93f554831ee2e0390f26e63c1db6c3e4}{\_\_par\_trans\_red\_body}}(\mbox{\hyperlink{struct____pstl_1_1____tbb__backend_1_1____par__trans__red__body}{\_\_par\_trans\_red\_body}}\&\ \_\_left,\ tbb::split)}
\DoxyCodeLine{00156\ \ \ \ \ \ \ \ \ :\ \mbox{\hyperlink{struct____pstl_1_1____tbb__backend_1_1____par__trans__red__body_a2a784ff00ef4bbdcf311ce23bff770ac}{\_M\_brick\_reduce}}(\_\_left.\mbox{\hyperlink{struct____pstl_1_1____tbb__backend_1_1____par__trans__red__body_a2a784ff00ef4bbdcf311ce23bff770ac}{\_M\_brick\_reduce}}),\ \mbox{\hyperlink{struct____pstl_1_1____tbb__backend_1_1____par__trans__red__body_a3bc703719d6b2134d34a283e271ee7ff}{\_M\_u}}(\_\_left.\mbox{\hyperlink{struct____pstl_1_1____tbb__backend_1_1____par__trans__red__body_a3bc703719d6b2134d34a283e271ee7ff}{\_M\_u}}),\ \mbox{\hyperlink{struct____pstl_1_1____tbb__backend_1_1____par__trans__red__body_abfcc099c263a186cb36f0ca546cc88bf}{\_M\_combine}}(\_\_left.\mbox{\hyperlink{struct____pstl_1_1____tbb__backend_1_1____par__trans__red__body_abfcc099c263a186cb36f0ca546cc88bf}{\_M\_combine}}),\ \mbox{\hyperlink{struct____pstl_1_1____tbb__backend_1_1____par__trans__red__body_aca115dabbb3f53237a4926910a8e1eb0}{\_M\_has\_sum}}(\mbox{\hyperlink{_classes_2lib_2include_2stdbool_8h_a65e9886d74aaee76545e83dd09011727}{false}})}
\DoxyCodeLine{00157\ \ \ \ \ \{}
\DoxyCodeLine{00158\ \ \ \ \ \}}
\DoxyCodeLine{00159\ }
\DoxyCodeLine{00160\ \ \ \ \ \mbox{\hyperlink{struct____pstl_1_1____tbb__backend_1_1____par__trans__red__body_a46b6157a530510206764db4b30e5eb32}{\string~\_\_par\_trans\_red\_body}}()}
\DoxyCodeLine{00161\ \ \ \ \ \{}
\DoxyCodeLine{00162\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ 17.6.5.12\ tells\ us\ to\ not\ worry\ about\ catching\ exceptions\ from\ destructors.}}
\DoxyCodeLine{00163\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{struct____pstl_1_1____tbb__backend_1_1____par__trans__red__body_aca115dabbb3f53237a4926910a8e1eb0}{\_M\_has\_sum}})}
\DoxyCodeLine{00164\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct____pstl_1_1____tbb__backend_1_1____par__trans__red__body_aa826d7427f4c941478263f1f4e08d607}{sum}}().\string~\_Tp();}
\DoxyCodeLine{00165\ \ \ \ \ \}}
\DoxyCodeLine{00166\ }
\DoxyCodeLine{00167\ \ \ \ \ \textcolor{keywordtype}{void}}
\DoxyCodeLine{00168\ \ \ \ \ \mbox{\hyperlink{struct____pstl_1_1____tbb__backend_1_1____par__trans__red__body_aff1e1847a7c5afee2f8a42c987f0e289}{join}}(\mbox{\hyperlink{struct____pstl_1_1____tbb__backend_1_1____par__trans__red__body}{\_\_par\_trans\_red\_body}}\&\ \_\_rhs)}
\DoxyCodeLine{00169\ \ \ \ \ \{}
\DoxyCodeLine{00170\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct____pstl_1_1____tbb__backend_1_1____par__trans__red__body_aa826d7427f4c941478263f1f4e08d607}{sum}}()\ =\ \mbox{\hyperlink{struct____pstl_1_1____tbb__backend_1_1____par__trans__red__body_abfcc099c263a186cb36f0ca546cc88bf}{\_M\_combine}}(\mbox{\hyperlink{struct____pstl_1_1____tbb__backend_1_1____par__trans__red__body_aa826d7427f4c941478263f1f4e08d607}{sum}}(),\ \_\_rhs.sum());}
\DoxyCodeLine{00171\ \ \ \ \ \}}
\DoxyCodeLine{00172\ }
\DoxyCodeLine{00173\ \ \ \ \ \textcolor{keywordtype}{void}}
\DoxyCodeLine{00174\ \ \ \ \ \mbox{\hyperlink{struct____pstl_1_1____tbb__backend_1_1____par__trans__red__body_af0e7869662361b84b861c892d1b898ce}{operator()}}(\textcolor{keyword}{const}\ tbb::blocked\_range<\_Index>\&\ \_\_range)}
\DoxyCodeLine{00175\ \ \ \ \ \{}
\DoxyCodeLine{00176\ \ \ \ \ \ \ \ \ \_Index\ \_\_i\ =\ \_\_range.begin();}
\DoxyCodeLine{00177\ \ \ \ \ \ \ \ \ \_Index\ \_\_j\ =\ \_\_range.end();}
\DoxyCodeLine{00178\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{struct____pstl_1_1____tbb__backend_1_1____par__trans__red__body_aca115dabbb3f53237a4926910a8e1eb0}{\_M\_has\_sum}})}
\DoxyCodeLine{00179\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00180\ \ \ \ \ \ \ \ \ \ \ \ \ \_PSTL\_ASSERT\_MSG(\_\_range.size()\ >\ 1,\ \textcolor{stringliteral}{"{}there\ should\ be\ at\ least\ 2\ elements"{}});}
\DoxyCodeLine{00181\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{new}\ (\&\mbox{\hyperlink{struct____pstl_1_1____tbb__backend_1_1____par__trans__red__body_a2079d472f07dc5936793198efa345c3a}{\_M\_sum\_storage}})}
\DoxyCodeLine{00182\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_Tp(\mbox{\hyperlink{struct____pstl_1_1____tbb__backend_1_1____par__trans__red__body_abfcc099c263a186cb36f0ca546cc88bf}{\_M\_combine}}(\mbox{\hyperlink{struct____pstl_1_1____tbb__backend_1_1____par__trans__red__body_a3bc703719d6b2134d34a283e271ee7ff}{\_M\_u}}(\_\_i),\ \mbox{\hyperlink{struct____pstl_1_1____tbb__backend_1_1____par__trans__red__body_a3bc703719d6b2134d34a283e271ee7ff}{\_M\_u}}(\_\_i\ +\ 1)));\ \textcolor{comment}{//\ The\ condition\ i+1\ <\ j\ is\ provided\ by\ the\ grain\ size\ of\ 3}}
\DoxyCodeLine{00183\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct____pstl_1_1____tbb__backend_1_1____par__trans__red__body_aca115dabbb3f53237a4926910a8e1eb0}{\_M\_has\_sum}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00184\ \ \ \ \ \ \ \ \ \ \ \ \ std::advance(\_\_i,\ 2);}
\DoxyCodeLine{00185\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\_\_i\ ==\ \_\_j)}
\DoxyCodeLine{00186\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00187\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00188\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct____pstl_1_1____tbb__backend_1_1____par__trans__red__body_aa826d7427f4c941478263f1f4e08d607}{sum}}()\ =\ \mbox{\hyperlink{struct____pstl_1_1____tbb__backend_1_1____par__trans__red__body_a2a784ff00ef4bbdcf311ce23bff770ac}{\_M\_brick\_reduce}}(\_\_i,\ \_\_j,\ \mbox{\hyperlink{struct____pstl_1_1____tbb__backend_1_1____par__trans__red__body_aa826d7427f4c941478263f1f4e08d607}{sum}}());}
\DoxyCodeLine{00189\ \ \ \ \ \}}
\DoxyCodeLine{00190\ \};}
\DoxyCodeLine{00191\ }
\DoxyCodeLine{00192\ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ \_ExecutionPolicy,\ \textcolor{keyword}{class}\ \_Index,\ \textcolor{keyword}{class}\ \_Up,\ \textcolor{keyword}{class}\ \_Tp,\ \textcolor{keyword}{class}\ \_Cp,\ \textcolor{keyword}{class}\ \_Rp>}
\DoxyCodeLine{00193\ \_Tp}
\DoxyCodeLine{00194\ \mbox{\hyperlink{namespace____pstl_1_1____tbb__backend_afcf54e45b118dd3af37bc3954d883625}{\_\_parallel\_transform\_reduce}}(\_ExecutionPolicy\&\&,\ \_Index\ \_\_first,\ \_Index\ \_\_last,\ \_Up\ \_\_u,\ \_Tp\ \_\_init,\ \_Cp\ \_\_combine,}
\DoxyCodeLine{00195\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_Rp\ \_\_brick\_reduce)}
\DoxyCodeLine{00196\ \{}
\DoxyCodeLine{00197\ \ \ \ \ \mbox{\hyperlink{struct____pstl_1_1____tbb__backend_1_1____par__trans__red__body}{\_\_tbb\_backend::\_\_par\_trans\_red\_body<\_Index,\ \_Up,\ \_Tp,\ \_Cp,\ \_Rp>}}\ \_\_body(\_\_u,\ \_\_init,\ \_\_combine,\ \_\_brick\_reduce);}
\DoxyCodeLine{00198\ \ \ \ \ \textcolor{comment}{//\ The\ grain\ size\ of\ 3\ is\ used\ in\ order\ to\ provide\ mininum\ 2\ elements\ for\ each\ body}}
\DoxyCodeLine{00199\ \ \ \ \ tbb::this\_task\_arena::isolate(}
\DoxyCodeLine{00200\ \ \ \ \ \ \ \ \ [\_\_first,\ \_\_last,\ \&\_\_body]()\ \{\ tbb::parallel\_reduce(tbb::blocked\_range<\_Index>(\_\_first,\ \_\_last,\ 3),\ \_\_body);\ \});}
\DoxyCodeLine{00201\ \ \ \ \ \textcolor{keywordflow}{return}\ \_\_body.sum();}
\DoxyCodeLine{00202\ \}}
\DoxyCodeLine{00203\ }
\DoxyCodeLine{00204\ \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00205\ \textcolor{comment}{//\ parallel\_scan}}
\DoxyCodeLine{00206\ \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00207\ }
\DoxyCodeLine{00208\ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ \_Index,\ \textcolor{keyword}{class}\ \_Up,\ \textcolor{keyword}{class}\ \_Tp,\ \textcolor{keyword}{class}\ \_Cp,\ \textcolor{keyword}{class}\ \_Rp,\ \textcolor{keyword}{class}\ \_Sp>}
\DoxyCodeLine{00209\ \textcolor{keyword}{class\ }\_\_trans\_scan\_body}
\DoxyCodeLine{00210\ \{}
\DoxyCodeLine{00211\ \ \ \ \ \textcolor{keyword}{alignas}(\_Tp)\ \textcolor{keywordtype}{char}\ \_M\_sum\_storage[\textcolor{keyword}{sizeof}(\_Tp)];\ \textcolor{comment}{//\ Holds\ generalized\ non-\/commutative\ sum\ when\ has\_sum==true}}
\DoxyCodeLine{00212\ \ \ \ \ \_Rp\ \_M\_brick\_reduce;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Most\ likely\ to\ have\ non-\/empty\ layout}}
\DoxyCodeLine{00213\ \ \ \ \ \_Up\ \_M\_u;}
\DoxyCodeLine{00214\ \ \ \ \ \_Cp\ \_M\_combine;}
\DoxyCodeLine{00215\ \ \ \ \ \_Sp\ \_M\_scan;}
\DoxyCodeLine{00216\ \ \ \ \ \textcolor{keywordtype}{bool}\ \_M\_has\_sum;\ \textcolor{comment}{//\ Put\ last\ to\ minimize\ size\ of\ class}}
\DoxyCodeLine{00217\ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00218\ \ \ \ \ \mbox{\hyperlink{class____pstl_1_1____tbb__backend_1_1____trans__scan__body_a0557f767aaa0088b6c39a854cf40a6a0}{\_\_trans\_scan\_body}}(\_Up\ \_\_u,\ \_Tp\ \_\_init,\ \_Cp\ \_\_combine,\ \_Rp\ \_\_reduce,\ \_Sp\ \_\_scan)}
\DoxyCodeLine{00219\ \ \ \ \ \ \ \ \ :\ \_M\_brick\_reduce(\_\_reduce),\ \_M\_u(\_\_u),\ \_M\_combine(\_\_combine),\ \_M\_scan(\_\_scan),\ \_M\_has\_sum(\mbox{\hyperlink{_classes_2lib_2include_2stdbool_8h_a41f9c5fb8b08eb5dc3edce4dcb37fee7}{true}})}
\DoxyCodeLine{00220\ \ \ \ \ \{}
\DoxyCodeLine{00221\ \ \ \ \ \ \ \ \ \textcolor{keyword}{new}\ (\_M\_sum\_storage)\ \_Tp(\_\_init);}
\DoxyCodeLine{00222\ \ \ \ \ \}}
\DoxyCodeLine{00223\ }
\DoxyCodeLine{00224\ \ \ \ \ \mbox{\hyperlink{class____pstl_1_1____tbb__backend_1_1____trans__scan__body_a0a66903a0ef25c684114e4186874a302}{\_\_trans\_scan\_body}}(\mbox{\hyperlink{class____pstl_1_1____tbb__backend_1_1____trans__scan__body}{\_\_trans\_scan\_body}}\&\ \_\_b,\ tbb::split)}
\DoxyCodeLine{00225\ \ \ \ \ \ \ \ \ :\ \_M\_brick\_reduce(\_\_b.\_M\_brick\_reduce),\ \_M\_u(\_\_b.\_M\_u),\ \_M\_combine(\_\_b.\_M\_combine),\ \_M\_scan(\_\_b.\_M\_scan),}
\DoxyCodeLine{00226\ \ \ \ \ \ \ \ \ \ \ \_M\_has\_sum(\mbox{\hyperlink{_classes_2lib_2include_2stdbool_8h_a65e9886d74aaee76545e83dd09011727}{false}})}
\DoxyCodeLine{00227\ \ \ \ \ \{}
\DoxyCodeLine{00228\ \ \ \ \ \}}
\DoxyCodeLine{00229\ }
\DoxyCodeLine{00230\ \ \ \ \ \mbox{\hyperlink{class____pstl_1_1____tbb__backend_1_1____trans__scan__body_aa9c4cdcb54c7a048d745fb16606039f5}{\string~\_\_trans\_scan\_body}}()}
\DoxyCodeLine{00231\ \ \ \ \ \{}
\DoxyCodeLine{00232\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ 17.6.5.12\ tells\ us\ to\ not\ worry\ about\ catching\ exceptions\ from\ destructors.}}
\DoxyCodeLine{00233\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\_M\_has\_sum)}
\DoxyCodeLine{00234\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class____pstl_1_1____tbb__backend_1_1____trans__scan__body_ad433d59dd8103d38d1c1b66780a77fb0}{sum}}().\string~\_Tp();}
\DoxyCodeLine{00235\ \ \ \ \ \}}
\DoxyCodeLine{00236\ }
\DoxyCodeLine{00237\ \ \ \ \ \_Tp\&}
\DoxyCodeLine{00238\ \ \ \ \ \mbox{\hyperlink{class____pstl_1_1____tbb__backend_1_1____trans__scan__body_ad433d59dd8103d38d1c1b66780a77fb0}{sum}}()\textcolor{keyword}{\ const}}
\DoxyCodeLine{00239\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{00240\ \ \ \ \ \ \ \ \ \_PSTL\_ASSERT\_MSG(\_M\_has\_sum,\ \textcolor{stringliteral}{"{}sum\ expected"{}});}
\DoxyCodeLine{00241\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{const\_cast<}\_Tp*\textcolor{keyword}{>}(\textcolor{keyword}{reinterpret\_cast<}\_Tp\ const*\textcolor{keyword}{>}(\_M\_sum\_storage));}
\DoxyCodeLine{00242\ \ \ \ \ \}}
\DoxyCodeLine{00243\ }
\DoxyCodeLine{00244\ \ \ \ \ \textcolor{keywordtype}{void}}
\DoxyCodeLine{00245\ \ \ \ \ \mbox{\hyperlink{class____pstl_1_1____tbb__backend_1_1____trans__scan__body_a3652e3ac03fbcd23b6cf24af26ed717c}{operator()}}(\textcolor{keyword}{const}\ tbb::blocked\_range<\_Index>\&\ \_\_range,\ tbb::pre\_scan\_tag)}
\DoxyCodeLine{00246\ \ \ \ \ \{}
\DoxyCodeLine{00247\ \ \ \ \ \ \ \ \ \_Index\ \_\_i\ =\ \_\_range.begin();}
\DoxyCodeLine{00248\ \ \ \ \ \ \ \ \ \_Index\ \_\_j\ =\ \_\_range.end();}
\DoxyCodeLine{00249\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\_M\_has\_sum)}
\DoxyCodeLine{00250\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00251\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{new}\ (\&\_M\_sum\_storage)\ \_Tp(\_M\_u(\_\_i));}
\DoxyCodeLine{00252\ \ \ \ \ \ \ \ \ \ \ \ \ \_M\_has\_sum\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00253\ \ \ \ \ \ \ \ \ \ \ \ \ ++\_\_i;}
\DoxyCodeLine{00254\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\_\_i\ ==\ \_\_j)}
\DoxyCodeLine{00255\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00256\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00257\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class____pstl_1_1____tbb__backend_1_1____trans__scan__body_ad433d59dd8103d38d1c1b66780a77fb0}{sum}}()\ =\ \_M\_brick\_reduce(\_\_i,\ \_\_j,\ \mbox{\hyperlink{class____pstl_1_1____tbb__backend_1_1____trans__scan__body_ad433d59dd8103d38d1c1b66780a77fb0}{sum}}());}
\DoxyCodeLine{00258\ \ \ \ \ \}}
\DoxyCodeLine{00259\ }
\DoxyCodeLine{00260\ \ \ \ \ \textcolor{keywordtype}{void}}
\DoxyCodeLine{00261\ \ \ \ \ \mbox{\hyperlink{class____pstl_1_1____tbb__backend_1_1____trans__scan__body_ae9ce20cfda9bcb20c4f408980bae8c47}{operator()}}(\textcolor{keyword}{const}\ tbb::blocked\_range<\_Index>\&\ \_\_range,\ tbb::final\_scan\_tag)}
\DoxyCodeLine{00262\ \ \ \ \ \{}
\DoxyCodeLine{00263\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class____pstl_1_1____tbb__backend_1_1____trans__scan__body_ad433d59dd8103d38d1c1b66780a77fb0}{sum}}()\ =\ \_M\_scan(\_\_range.begin(),\ \_\_range.end(),\ \mbox{\hyperlink{class____pstl_1_1____tbb__backend_1_1____trans__scan__body_ad433d59dd8103d38d1c1b66780a77fb0}{sum}}());}
\DoxyCodeLine{00264\ \ \ \ \ \}}
\DoxyCodeLine{00265\ }
\DoxyCodeLine{00266\ \ \ \ \ \textcolor{keywordtype}{void}}
\DoxyCodeLine{00267\ \ \ \ \ \mbox{\hyperlink{class____pstl_1_1____tbb__backend_1_1____trans__scan__body_ae334325251e954c93bc2a5e8dc1fff73}{reverse\_join}}(\mbox{\hyperlink{class____pstl_1_1____tbb__backend_1_1____trans__scan__body}{\_\_trans\_scan\_body}}\&\ \_\_a)}
\DoxyCodeLine{00268\ \ \ \ \ \{}
\DoxyCodeLine{00269\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\_M\_has\_sum)}
\DoxyCodeLine{00270\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00271\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class____pstl_1_1____tbb__backend_1_1____trans__scan__body_ad433d59dd8103d38d1c1b66780a77fb0}{sum}}()\ =\ \_M\_combine(\_\_a.sum(),\ \mbox{\hyperlink{class____pstl_1_1____tbb__backend_1_1____trans__scan__body_ad433d59dd8103d38d1c1b66780a77fb0}{sum}}());}
\DoxyCodeLine{00272\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00273\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00274\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00275\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{new}\ (\&\_M\_sum\_storage)\ \_Tp(\_\_a.sum());}
\DoxyCodeLine{00276\ \ \ \ \ \ \ \ \ \ \ \ \ \_M\_has\_sum\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00277\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00278\ \ \ \ \ \}}
\DoxyCodeLine{00279\ }
\DoxyCodeLine{00280\ \ \ \ \ \textcolor{keywordtype}{void}}
\DoxyCodeLine{00281\ \ \ \ \ \mbox{\hyperlink{class____pstl_1_1____tbb__backend_1_1____trans__scan__body_a681d5787ca9790c092d75fb6aa785c81}{assign}}(\mbox{\hyperlink{class____pstl_1_1____tbb__backend_1_1____trans__scan__body}{\_\_trans\_scan\_body}}\&\ \_\_b)}
\DoxyCodeLine{00282\ \ \ \ \ \{}
\DoxyCodeLine{00283\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class____pstl_1_1____tbb__backend_1_1____trans__scan__body_ad433d59dd8103d38d1c1b66780a77fb0}{sum}}()\ =\ \_\_b.sum();}
\DoxyCodeLine{00284\ \ \ \ \ \}}
\DoxyCodeLine{00285\ \};}
\DoxyCodeLine{00286\ }
\DoxyCodeLine{00287\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ \_Index>}
\DoxyCodeLine{00288\ \_Index}
\DoxyCodeLine{00289\ \mbox{\hyperlink{namespace____pstl_1_1____tbb__backend_a412bd21d61e578eab6a5afe510c8f07d}{\_\_split}}(\_Index\ \_\_m)}
\DoxyCodeLine{00290\ \{}
\DoxyCodeLine{00291\ \ \ \ \ \_Index\ \_\_k\ =\ 1;}
\DoxyCodeLine{00292\ \ \ \ \ \textcolor{keywordflow}{while}\ (2\ *\ \_\_k\ <\ \_\_m)}
\DoxyCodeLine{00293\ \ \ \ \ \ \ \ \ \_\_k\ *=\ 2;}
\DoxyCodeLine{00294\ \ \ \ \ \textcolor{keywordflow}{return}\ \_\_k;}
\DoxyCodeLine{00295\ \}}
\DoxyCodeLine{00296\ }
\DoxyCodeLine{00297\ \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00298\ \textcolor{comment}{//\ \_\_parallel\_strict\_scan}}
\DoxyCodeLine{00299\ \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00300\ }
\DoxyCodeLine{00301\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ \_Index,\ \textcolor{keyword}{typename}\ \_Tp,\ \textcolor{keyword}{typename}\ \_Rp,\ \textcolor{keyword}{typename}\ \_Cp>}
\DoxyCodeLine{00302\ \textcolor{keywordtype}{void}}
\DoxyCodeLine{00303\ \mbox{\hyperlink{namespace____pstl_1_1____tbb__backend_ac07922e1fd589396a2fa41616cdf6cc6}{\_\_upsweep}}(\_Index\ \_\_i,\ \_Index\ \_\_m,\ \_Index\ \_\_tilesize,\ \_Tp*\ \_\_r,\ \_Index\ \_\_lastsize,\ \_Rp\ \_\_reduce,\ \_Cp\ \_\_combine)}
\DoxyCodeLine{00304\ \{}
\DoxyCodeLine{00305\ \ \ \ \ \textcolor{keywordflow}{if}\ (\_\_m\ ==\ 1)}
\DoxyCodeLine{00306\ \ \ \ \ \ \ \ \ \_\_r[0]\ =\ \_\_reduce(\_\_i\ *\ \_\_tilesize,\ \_\_lastsize);}
\DoxyCodeLine{00307\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00308\ \ \ \ \ \{}
\DoxyCodeLine{00309\ \ \ \ \ \ \ \ \ \_Index\ \_\_k\ =\ \mbox{\hyperlink{namespace____pstl_1_1____tbb__backend_a412bd21d61e578eab6a5afe510c8f07d}{\_\_split}}(\_\_m);}
\DoxyCodeLine{00310\ \ \ \ \ \ \ \ \ tbb::parallel\_invoke(}
\DoxyCodeLine{00311\ \ \ \ \ \ \ \ \ \ \ \ \ [=]\ \{\ \mbox{\hyperlink{namespace____pstl_1_1____tbb__backend_ac07922e1fd589396a2fa41616cdf6cc6}{\_\_tbb\_backend::\_\_upsweep}}(\_\_i,\ \_\_k,\ \_\_tilesize,\ \_\_r,\ \_\_tilesize,\ \_\_reduce,\ \_\_combine);\ \},}
\DoxyCodeLine{00312\ \ \ \ \ \ \ \ \ \ \ \ \ [=]\ \{}
\DoxyCodeLine{00313\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace____pstl_1_1____tbb__backend_ac07922e1fd589396a2fa41616cdf6cc6}{\_\_tbb\_backend::\_\_upsweep}}(\_\_i\ +\ \_\_k,\ \_\_m\ -\/\ \_\_k,\ \_\_tilesize,\ \_\_r\ +\ \_\_k,\ \_\_lastsize,\ \_\_reduce,\ \_\_combine);}
\DoxyCodeLine{00314\ \ \ \ \ \ \ \ \ \ \ \ \ \});}
\DoxyCodeLine{00315\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\_\_m\ ==\ 2\ *\ \_\_k)}
\DoxyCodeLine{00316\ \ \ \ \ \ \ \ \ \ \ \ \ \_\_r[\_\_m\ -\/\ 1]\ =\ \_\_combine(\_\_r[\_\_k\ -\/\ 1],\ \_\_r[\_\_m\ -\/\ 1]);}
\DoxyCodeLine{00317\ \ \ \ \ \}}
\DoxyCodeLine{00318\ \}}
\DoxyCodeLine{00319\ }
\DoxyCodeLine{00320\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ \_Index,\ \textcolor{keyword}{typename}\ \_Tp,\ \textcolor{keyword}{typename}\ \_Cp,\ \textcolor{keyword}{typename}\ \_Sp>}
\DoxyCodeLine{00321\ \textcolor{keywordtype}{void}}
\DoxyCodeLine{00322\ \mbox{\hyperlink{namespace____pstl_1_1____tbb__backend_ac78e1043be34a9e5923c89e5af1eb37e}{\_\_downsweep}}(\_Index\ \_\_i,\ \_Index\ \_\_m,\ \_Index\ \_\_tilesize,\ \_Tp*\ \_\_r,\ \_Index\ \_\_lastsize,\ \_Tp\ \_\_initial,\ \_Cp\ \_\_combine,}
\DoxyCodeLine{00323\ \ \ \ \ \ \ \ \ \ \ \ \ \_Sp\ \_\_scan)}
\DoxyCodeLine{00324\ \{}
\DoxyCodeLine{00325\ \ \ \ \ \textcolor{keywordflow}{if}\ (\_\_m\ ==\ 1)}
\DoxyCodeLine{00326\ \ \ \ \ \ \ \ \ \_\_scan(\_\_i\ *\ \_\_tilesize,\ \_\_lastsize,\ \_\_initial);}
\DoxyCodeLine{00327\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00328\ \ \ \ \ \{}
\DoxyCodeLine{00329\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \_Index\ \_\_k\ =\ \mbox{\hyperlink{namespace____pstl_1_1____tbb__backend_a412bd21d61e578eab6a5afe510c8f07d}{\_\_split}}(\_\_m);}
\DoxyCodeLine{00330\ \ \ \ \ \ \ \ \ tbb::parallel\_invoke(}
\DoxyCodeLine{00331\ \ \ \ \ \ \ \ \ \ \ \ \ [=]\ \{\ \mbox{\hyperlink{namespace____pstl_1_1____tbb__backend_ac78e1043be34a9e5923c89e5af1eb37e}{\_\_tbb\_backend::\_\_downsweep}}(\_\_i,\ \_\_k,\ \_\_tilesize,\ \_\_r,\ \_\_tilesize,\ \_\_initial,\ \_\_combine,\ \_\_scan);\ \},}
\DoxyCodeLine{00332\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Assumes\ that\ \_\_combine\ never\ throws.}}
\DoxyCodeLine{00333\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//TODO:\ Consider\ adding\ a\ requirement\ for\ user\ functors\ to\ be\ constant.}}
\DoxyCodeLine{00334\ \ \ \ \ \ \ \ \ \ \ \ \ [=,\ \&\_\_combine]\ \{}
\DoxyCodeLine{00335\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace____pstl_1_1____tbb__backend_ac78e1043be34a9e5923c89e5af1eb37e}{\_\_tbb\_backend::\_\_downsweep}}(\_\_i\ +\ \_\_k,\ \_\_m\ -\/\ \_\_k,\ \_\_tilesize,\ \_\_r\ +\ \_\_k,\ \_\_lastsize,}
\DoxyCodeLine{00336\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_\_combine(\_\_initial,\ \_\_r[\_\_k\ -\/\ 1]),\ \_\_combine,\ \_\_scan);}
\DoxyCodeLine{00337\ \ \ \ \ \ \ \ \ \ \ \ \ \});}
\DoxyCodeLine{00338\ \ \ \ \ \}}
\DoxyCodeLine{00339\ \}}
\DoxyCodeLine{00340\ }
\DoxyCodeLine{00341\ \textcolor{comment}{//\ Adapted\ from\ Intel(R)\ Cilk(TM)\ version\ from\ cilkpub.}}
\DoxyCodeLine{00342\ \textcolor{comment}{//\ Let\ i:len\ denote\ a\ counted\ interval\ of\ length\ n\ starting\ at\ i.\ \ s\ denotes\ a\ generalized-\/sum\ value.}}
\DoxyCodeLine{00343\ \textcolor{comment}{//\ Expected\ actions\ of\ the\ functors\ are:}}
\DoxyCodeLine{00344\ \textcolor{comment}{//\ \ \ \ \ reduce(i,len)\ -\/>\ s\ \ -\/-\/\ return\ reduction\ value\ of\ i:len.}}
\DoxyCodeLine{00345\ \textcolor{comment}{//\ \ \ \ \ combine(s1,s2)\ -\/>\ s\ -\/-\/\ return\ merged\ sum}}
\DoxyCodeLine{00346\ \textcolor{comment}{//\ \ \ \ \ apex(s)\ -\/-\/\ do\ any\ processing\ necessary\ between\ reduce\ and\ scan.}}
\DoxyCodeLine{00347\ \textcolor{comment}{//\ \ \ \ \ scan(i,len,initial)\ -\/-\/\ perform\ scan\ over\ i:len\ starting\ with\ initial.}}
\DoxyCodeLine{00348\ \textcolor{comment}{//\ The\ initial\ range\ 0:n\ is\ partitioned\ into\ consecutive\ subranges.}}
\DoxyCodeLine{00349\ \textcolor{comment}{//\ reduce\ and\ scan\ are\ each\ called\ exactly\ once\ per\ subrange.}}
\DoxyCodeLine{00350\ \textcolor{comment}{//\ Thus\ callers\ can\ rely\ upon\ side\ effects\ in\ reduce.}}
\DoxyCodeLine{00351\ \textcolor{comment}{//\ combine\ must\ not\ throw\ an\ exception.}}
\DoxyCodeLine{00352\ \textcolor{comment}{//\ apex\ is\ called\ exactly\ once,\ after\ all\ calls\ to\ reduce\ and\ before\ all\ calls\ to\ scan.}}
\DoxyCodeLine{00353\ \textcolor{comment}{//\ For\ example,\ it's\ useful\ for\ allocating\ a\ \_\_buffer\ used\ by\ scan\ but\ whose\ size\ is\ the\ sum\ of\ all\ reduction\ values.}}
\DoxyCodeLine{00354\ \textcolor{comment}{//\ T\ must\ have\ a\ trivial\ constructor\ and\ destructor.}}
\DoxyCodeLine{00355\ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ \_ExecutionPolicy,\ \textcolor{keyword}{typename}\ \_Index,\ \textcolor{keyword}{typename}\ \_Tp,\ \textcolor{keyword}{typename}\ \_Rp,\ \textcolor{keyword}{typename}\ \_Cp,\ \textcolor{keyword}{typename}\ \_Sp,\ \textcolor{keyword}{typename}\ \_Ap>}
\DoxyCodeLine{00356\ \textcolor{keywordtype}{void}}
\DoxyCodeLine{00357\ \mbox{\hyperlink{namespace____pstl_1_1____tbb__backend_aad41a532e4a5fc9713ff8da06b89f6d1}{\_\_parallel\_strict\_scan}}(\_ExecutionPolicy\&\&,\ \_Index\ \_\_n,\ \_Tp\ \_\_initial,\ \_Rp\ \_\_reduce,\ \_Cp\ \_\_combine,\ \_Sp\ \_\_scan,}
\DoxyCodeLine{00358\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_Ap\ \_\_apex)}
\DoxyCodeLine{00359\ \{}
\DoxyCodeLine{00360\ \ \ \ \ tbb::this\_task\_arena::isolate([=,\ \&\_\_combine]()\ \{}
\DoxyCodeLine{00361\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\_\_n\ >\ 1)}
\DoxyCodeLine{00362\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00363\ \ \ \ \ \ \ \ \ \ \ \ \ \_Index\ \_\_p\ =\ tbb::this\_task\_arena::max\_concurrency();}
\DoxyCodeLine{00364\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \_Index\ \_\_slack\ =\ 4;}
\DoxyCodeLine{00365\ \ \ \ \ \ \ \ \ \ \ \ \ \_Index\ \_\_tilesize\ =\ (\_\_n\ -\/\ 1)\ /\ (\_\_slack\ *\ \_\_p)\ +\ 1;}
\DoxyCodeLine{00366\ \ \ \ \ \ \ \ \ \ \ \ \ \_Index\ \_\_m\ =\ (\_\_n\ -\/\ 1)\ /\ \_\_tilesize;}
\DoxyCodeLine{00367\ \ \ \ \ \ \ \ \ \ \ \ \ \_\_buffer<\_Tp>\ \_\_buf(\_\_m\ +\ 1);}
\DoxyCodeLine{00368\ \ \ \ \ \ \ \ \ \ \ \ \ \_Tp*\ \_\_r\ =\ \_\_buf.get();}
\DoxyCodeLine{00369\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace____pstl_1_1____tbb__backend_ac07922e1fd589396a2fa41616cdf6cc6}{\_\_tbb\_backend::\_\_upsweep}}(\_Index(0),\ \_Index(\_\_m\ +\ 1),\ \_\_tilesize,\ \_\_r,\ \_\_n\ -\/\ \_\_m\ *\ \_\_tilesize,\ \_\_reduce,}
\DoxyCodeLine{00370\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_\_combine);}
\DoxyCodeLine{00371\ }
\DoxyCodeLine{00372\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ When\ \_\_apex\ is\ a\ no-\/op\ and\ \_\_combine\ has\ no\ side\ effects,\ a\ good\ optimizer}}
\DoxyCodeLine{00373\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ should\ be\ able\ to\ eliminate\ all\ code\ between\ here\ and\ \_\_apex.}}
\DoxyCodeLine{00374\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Alternatively,\ provide\ a\ default\ value\ for\ \_\_apex\ that\ can\ be}}
\DoxyCodeLine{00375\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ recognized\ by\ metaprogramming\ that\ conditionlly\ executes\ the\ following.}}
\DoxyCodeLine{00376\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \_\_k\ =\ \_\_m\ +\ 1;}
\DoxyCodeLine{00377\ \ \ \ \ \ \ \ \ \ \ \ \ \_Tp\ \_\_t\ =\ \_\_r[\_\_k\ -\/\ 1];}
\DoxyCodeLine{00378\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ ((\_\_k\ \&=\ \_\_k\ -\/\ 1))}
\DoxyCodeLine{00379\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_\_t\ =\ \_\_combine(\_\_r[\_\_k\ -\/\ 1],\ \_\_t);}
\DoxyCodeLine{00380\ \ \ \ \ \ \ \ \ \ \ \ \ \_\_apex(\_\_combine(\_\_initial,\ \_\_t));}
\DoxyCodeLine{00381\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace____pstl_1_1____tbb__backend_ac78e1043be34a9e5923c89e5af1eb37e}{\_\_tbb\_backend::\_\_downsweep}}(\_Index(0),\ \_Index(\_\_m\ +\ 1),\ \_\_tilesize,\ \_\_r,\ \_\_n\ -\/\ \_\_m\ *\ \_\_tilesize,\ \_\_initial,}
\DoxyCodeLine{00382\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_\_combine,\ \_\_scan);}
\DoxyCodeLine{00383\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00384\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00385\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Fewer\ than\ 2\ elements\ in\ sequence,\ or\ out\ of\ memory.\ \ Handle\ has\ single\ block.}}
\DoxyCodeLine{00386\ \ \ \ \ \ \ \ \ \_Tp\ \_\_sum\ =\ \_\_initial;}
\DoxyCodeLine{00387\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\_\_n)}
\DoxyCodeLine{00388\ \ \ \ \ \ \ \ \ \ \ \ \ \_\_sum\ =\ \_\_combine(\_\_sum,\ \_\_reduce(\_Index(0),\ \_\_n));}
\DoxyCodeLine{00389\ \ \ \ \ \ \ \ \ \_\_apex(\_\_sum);}
\DoxyCodeLine{00390\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\_\_n)}
\DoxyCodeLine{00391\ \ \ \ \ \ \ \ \ \ \ \ \ \_\_scan(\_Index(0),\ \_\_n,\ \_\_initial);}
\DoxyCodeLine{00392\ \ \ \ \ \});}
\DoxyCodeLine{00393\ \}}
\DoxyCodeLine{00394\ }
\DoxyCodeLine{00395\ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ \_ExecutionPolicy,\ \textcolor{keyword}{class}\ \_Index,\ \textcolor{keyword}{class}\ \_Up,\ \textcolor{keyword}{class}\ \_Tp,\ \textcolor{keyword}{class}\ \_Cp,\ \textcolor{keyword}{class}\ \_Rp,\ \textcolor{keyword}{class}\ \_Sp>}
\DoxyCodeLine{00396\ \_Tp}
\DoxyCodeLine{00397\ \mbox{\hyperlink{namespace____pstl_1_1____tbb__backend_a35e5a2ca33d8474d4f761aefdc3c4b2e}{\_\_parallel\_transform\_scan}}(\_ExecutionPolicy\&\&,\ \_Index\ \_\_n,\ \_Up\ \_\_u,\ \_Tp\ \_\_init,\ \_Cp\ \_\_combine,\ \_Rp\ \_\_brick\_reduce,}
\DoxyCodeLine{00398\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_Sp\ \_\_scan)}
\DoxyCodeLine{00399\ \{}
\DoxyCodeLine{00400\ \ \ \ \ \_\_trans\_scan\_body<\_Index,\ \_Up,\ \_Tp,\ \_Cp,\ \_Rp,\ \_Sp>\ \_\_body(\_\_u,\ \_\_init,\ \_\_combine,\ \_\_brick\_reduce,\ \_\_scan);}
\DoxyCodeLine{00401\ \ \ \ \ \textcolor{keyword}{auto}\ \_\_range\ =\ tbb::blocked\_range<\_Index>(0,\ \_\_n);}
\DoxyCodeLine{00402\ \ \ \ \ tbb::this\_task\_arena::isolate([\_\_range,\ \&\_\_body]()\ \{\ tbb::parallel\_scan(\_\_range,\ \_\_body);\ \});}
\DoxyCodeLine{00403\ \ \ \ \ \textcolor{keywordflow}{return}\ \_\_body.sum();}
\DoxyCodeLine{00404\ \}}
\DoxyCodeLine{00405\ }
\DoxyCodeLine{00406\ \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00407\ \textcolor{comment}{//\ parallel\_stable\_sort}}
\DoxyCodeLine{00408\ \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00409\ }
\DoxyCodeLine{00410\ \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00411\ \textcolor{comment}{//\ stable\_sort\ utilities}}
\DoxyCodeLine{00412\ \textcolor{comment}{//}}
\DoxyCodeLine{00413\ \textcolor{comment}{//\ These\ are\ used\ by\ parallel\ implementations\ but\ do\ not\ depend\ on\ them.}}
\DoxyCodeLine{00414\ \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00415\ \textcolor{preprocessor}{\#define\ \_PSTL\_MERGE\_CUT\_OFF\ 2000}}
\DoxyCodeLine{00416\ }
\DoxyCodeLine{00417\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ \_Func>}
\DoxyCodeLine{00418\ \textcolor{keyword}{class\ }\_\_func\_task;}
\DoxyCodeLine{00419\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ \_Func>}
\DoxyCodeLine{00420\ \textcolor{keyword}{class\ }\_\_root\_task;}
\DoxyCodeLine{00421\ }
\DoxyCodeLine{00422\ \textcolor{preprocessor}{\#if\ TBB\_INTERFACE\_VERSION\ <=\ 12000}}
\DoxyCodeLine{00423\ \textcolor{keyword}{class\ }\_\_task\ :\ \textcolor{keyword}{public}\ tbb::task}
\DoxyCodeLine{00424\ \{}
\DoxyCodeLine{00425\ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00426\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ \_Fn>}
\DoxyCodeLine{00427\ \ \ \ \ \_\_task*}
\DoxyCodeLine{00428\ \ \ \ \ \mbox{\hyperlink{class____pstl_1_1____tbb__backend_1_1____task_adcb063a69a17d5f5d98ac09ebed8e0c0}{make\_continuation}}(\_Fn\&\&\ \_\_f)}
\DoxyCodeLine{00429\ \ \ \ \ \{}
\DoxyCodeLine{00430\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{new}\ (allocate\_continuation())\ \mbox{\hyperlink{class____pstl_1_1____tbb__backend_1_1____func__task}{\_\_func\_task}}<\textcolor{keyword}{typename}\ std::decay<\_Fn>::type>(std::forward<\_Fn>(\_\_f));}
\DoxyCodeLine{00431\ \ \ \ \ \}}
\DoxyCodeLine{00432\ }
\DoxyCodeLine{00433\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ \_Fn>}
\DoxyCodeLine{00434\ \ \ \ \ \mbox{\hyperlink{class____pstl_1_1____tbb__backend_1_1____task}{\_\_task}}*}
\DoxyCodeLine{00435\ \ \ \ \ \mbox{\hyperlink{class____pstl_1_1____tbb__backend_1_1____task_a2c2c50a71e43ce8cc8d1454abbfea4e5}{make\_child\_of}}(\mbox{\hyperlink{class____pstl_1_1____tbb__backend_1_1____task}{\_\_task}}*\ parent,\ \_Fn\&\&\ \_\_f)}
\DoxyCodeLine{00436\ \ \ \ \ \{}
\DoxyCodeLine{00437\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{new}\ (parent-\/>allocate\_child())\ \mbox{\hyperlink{class____pstl_1_1____tbb__backend_1_1____func__task}{\_\_func\_task}}<\textcolor{keyword}{typename}\ std::decay<\_Fn>::type>(std::forward<\_Fn>(\_\_f));}
\DoxyCodeLine{00438\ \ \ \ \ \}}
\DoxyCodeLine{00439\ }
\DoxyCodeLine{00440\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ \_Fn>}
\DoxyCodeLine{00441\ \ \ \ \ \mbox{\hyperlink{class____pstl_1_1____tbb__backend_1_1____task}{\_\_task}}*}
\DoxyCodeLine{00442\ \ \ \ \ \mbox{\hyperlink{class____pstl_1_1____tbb__backend_1_1____task_acef9934f613941da92f256d0afa2f32e}{make\_additional\_child\_of}}(tbb::task*\ parent,\ \_Fn\&\&\ \_\_f)}
\DoxyCodeLine{00443\ \ \ \ \ \{}
\DoxyCodeLine{00444\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{new}\ (tbb::task::allocate\_additional\_child\_of(*parent))}
\DoxyCodeLine{00445\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class____pstl_1_1____tbb__backend_1_1____func__task}{\_\_func\_task}}<\textcolor{keyword}{typename}\ std::decay<\_Fn>::type>(std::forward<\_Fn>(\_\_f));}
\DoxyCodeLine{00446\ \ \ \ \ \}}
\DoxyCodeLine{00447\ }
\DoxyCodeLine{00448\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}}
\DoxyCodeLine{00449\ \ \ \ \ \mbox{\hyperlink{class____pstl_1_1____tbb__backend_1_1____task_abb49e6eaa41b657f5bc325e87a613f6b}{recycle\_as\_continuation}}()}
\DoxyCodeLine{00450\ \ \ \ \ \{}
\DoxyCodeLine{00451\ \ \ \ \ \ \ \ \ tbb::task::recycle\_as\_continuation();}
\DoxyCodeLine{00452\ \ \ \ \ \}}
\DoxyCodeLine{00453\ }
\DoxyCodeLine{00454\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}}
\DoxyCodeLine{00455\ \ \ \ \ \mbox{\hyperlink{class____pstl_1_1____tbb__backend_1_1____task_a0bc9e779be42b8bdfa70b53f7715d618}{recycle\_as\_child\_of}}(\mbox{\hyperlink{class____pstl_1_1____tbb__backend_1_1____task}{\_\_task}}*\ parent)}
\DoxyCodeLine{00456\ \ \ \ \ \{}
\DoxyCodeLine{00457\ \ \ \ \ \ \ \ \ tbb::task::recycle\_as\_child\_of(*parent);}
\DoxyCodeLine{00458\ \ \ \ \ \}}
\DoxyCodeLine{00459\ }
\DoxyCodeLine{00460\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}}
\DoxyCodeLine{00461\ \ \ \ \ \mbox{\hyperlink{class____pstl_1_1____tbb__backend_1_1____task_a461df97d741617cd512582b410ad486a}{spawn}}(\mbox{\hyperlink{class____pstl_1_1____tbb__backend_1_1____task}{\_\_task}}*\ \_\_t)}
\DoxyCodeLine{00462\ \ \ \ \ \{}
\DoxyCodeLine{00463\ \ \ \ \ \ \ \ \ tbb::task::spawn(*\_\_t);}
\DoxyCodeLine{00464\ \ \ \ \ \}}
\DoxyCodeLine{00465\ }
\DoxyCodeLine{00466\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ \_Fn>}
\DoxyCodeLine{00467\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}}
\DoxyCodeLine{00468\ \ \ \ \ \mbox{\hyperlink{class____pstl_1_1____tbb__backend_1_1____task_a9e0f11077ac28313dab50b15dfb56c9f}{spawn\_root\_and\_wait}}(\mbox{\hyperlink{class____pstl_1_1____tbb__backend_1_1____root__task}{\_\_root\_task<\_Fn>}}\&\ \_\_root)}
\DoxyCodeLine{00469\ \ \ \ \ \{}
\DoxyCodeLine{00470\ \ \ \ \ \ \ \ \ tbb::task::spawn\_root\_and\_wait(*\_\_root.\_M\_task);}
\DoxyCodeLine{00471\ \ \ \ \ \}}
\DoxyCodeLine{00472\ \};}
\DoxyCodeLine{00473\ }
\DoxyCodeLine{00474\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ \_Func>}
\DoxyCodeLine{00475\ \textcolor{keyword}{class\ }\_\_func\_task\ :\ \textcolor{keyword}{public}\ \_\_task}
\DoxyCodeLine{00476\ \{}
\DoxyCodeLine{00477\ \ \ \ \ \_Func\ \_M\_func;}
\DoxyCodeLine{00478\ }
\DoxyCodeLine{00479\ \ \ \ \ tbb::task*}
\DoxyCodeLine{00480\ \ \ \ \ execute()}
\DoxyCodeLine{00481\ \ \ \ \ \{}
\DoxyCodeLine{00482\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \_M\_func(\textcolor{keyword}{this});}
\DoxyCodeLine{00483\ \ \ \ \ \};}
\DoxyCodeLine{00484\ }
\DoxyCodeLine{00485\ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00486\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ \_Fn>}
\DoxyCodeLine{00487\ \ \ \ \ \mbox{\hyperlink{class____pstl_1_1____tbb__backend_1_1____func__task_ad129a90f0efac6f9097a02bf4417bed8}{\_\_func\_task}}(\_Fn\&\&\ \_\_f)\ :\ \_M\_func\{\mbox{\hyperlink{namespacestd}{std}}::forward<\_Fn>(\_\_f)\}}
\DoxyCodeLine{00488\ \ \ \ \ \{}
\DoxyCodeLine{00489\ \ \ \ \ \}}
\DoxyCodeLine{00490\ }
\DoxyCodeLine{00491\ \ \ \ \ \_Func\&}
\DoxyCodeLine{00492\ \ \ \ \ \mbox{\hyperlink{class____pstl_1_1____tbb__backend_1_1____func__task_ace88ab7a1cbb94a0247f0eddf4857aaf}{body}}()}
\DoxyCodeLine{00493\ \ \ \ \ \{}
\DoxyCodeLine{00494\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \_M\_func;}
\DoxyCodeLine{00495\ \ \ \ \ \}}
\DoxyCodeLine{00496\ \};}
\DoxyCodeLine{00497\ }
\DoxyCodeLine{00498\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ \_Func>}
\DoxyCodeLine{00499\ \textcolor{keyword}{class\ }\_\_root\_task}
\DoxyCodeLine{00500\ \{}
\DoxyCodeLine{00501\ \ \ \ \ tbb::task*\ \_M\_task;}
\DoxyCodeLine{00502\ }
\DoxyCodeLine{00503\ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00504\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}...\ Args>}
\DoxyCodeLine{00505\ \ \ \ \ \mbox{\hyperlink{class____pstl_1_1____tbb__backend_1_1____root__task_a7bc53e1c183207992c6f09b04f49b49f}{\_\_root\_task}}(Args\&\&...\ args)}
\DoxyCodeLine{00506\ \ \ \ \ \ \ \ \ :\ \_M\_task\{new\ (tbb::task::allocate\_root())\ \mbox{\hyperlink{class____pstl_1_1____tbb__backend_1_1____func__task}{\_\_func\_task}}<\_Func>\{\_Func(std::forward<Args>(args)...)\}\}}
\DoxyCodeLine{00507\ \ \ \ \ \{}
\DoxyCodeLine{00508\ \ \ \ \ \}}
\DoxyCodeLine{00509\ }
\DoxyCodeLine{00510\ \ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }\_\_task;}
\DoxyCodeLine{00511\ \ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }\_\_func\_task<\_Func>;}
\DoxyCodeLine{00512\ \};}
\DoxyCodeLine{00513\ }
\DoxyCodeLine{00514\ \textcolor{preprocessor}{\#else\ \ }\textcolor{comment}{//\ TBB\_INTERFACE\_VERSION\ <=\ 12000}}
\DoxyCodeLine{00515\ \textcolor{keyword}{class\ }\_\_task\ :\ \textcolor{keyword}{public}\ tbb::detail::d1::task}
\DoxyCodeLine{00516\ \{}
\DoxyCodeLine{00517\ \ \ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00518\ \ \ \ \ tbb::detail::d1::small\_object\_allocator\ \_M\_allocator\{\};}
\DoxyCodeLine{00519\ \ \ \ \ tbb::detail::d1::execution\_data*\ \_M\_execute\_data\{\};}
\DoxyCodeLine{00520\ \ \ \ \ \_\_task*\ \_M\_parent\{\};}
\DoxyCodeLine{00521\ \ \ \ \ std::atomic<int>\ \_M\_refcount\{\};}
\DoxyCodeLine{00522\ \ \ \ \ \textcolor{keywordtype}{bool}\ \_M\_recycle\{\};}
\DoxyCodeLine{00523\ }
\DoxyCodeLine{00524\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ \_Fn>}
\DoxyCodeLine{00525\ \ \ \ \ \_\_task*}
\DoxyCodeLine{00526\ \ \ \ \ allocate\_func\_task(\_Fn\&\&\ \_\_f)}
\DoxyCodeLine{00527\ \ \ \ \ \{}
\DoxyCodeLine{00528\ \ \ \ \ \ \ \ \ \_PSTL\_ASSERT(\_M\_execute\_data\ !=\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{00529\ \ \ \ \ \ \ \ \ tbb::detail::d1::small\_object\_allocator\ \_\_alloc\{\};}
\DoxyCodeLine{00530\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ \_\_t\ =}
\DoxyCodeLine{00531\ \ \ \ \ \ \ \ \ \ \ \ \ \_\_alloc.new\_object<\_\_func\_task<typename\ std::decay<\_Fn>::type>>(*\_M\_execute\_data,\ std::forward<\_Fn>(\_\_f));}
\DoxyCodeLine{00532\ \ \ \ \ \ \ \ \ \_\_t-\/>\_M\_allocator\ =\ \_\_alloc;}
\DoxyCodeLine{00533\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \_\_t;}
\DoxyCodeLine{00534\ \ \ \ \ \}}
\DoxyCodeLine{00535\ }
\DoxyCodeLine{00536\ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00537\ \ \ \ \ \_\_task*}
\DoxyCodeLine{00538\ \ \ \ \ parent()}
\DoxyCodeLine{00539\ \ \ \ \ \{}
\DoxyCodeLine{00540\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \_M\_parent;}
\DoxyCodeLine{00541\ \ \ \ \ \}}
\DoxyCodeLine{00542\ }
\DoxyCodeLine{00543\ \ \ \ \ \textcolor{keywordtype}{void}}
\DoxyCodeLine{00544\ \ \ \ \ set\_ref\_count(\textcolor{keywordtype}{int}\ \_\_n)}
\DoxyCodeLine{00545\ \ \ \ \ \{}
\DoxyCodeLine{00546\ \ \ \ \ \ \ \ \ \_M\_refcount.store(\_\_n,\ std::memory\_order\_release);}
\DoxyCodeLine{00547\ \ \ \ \ \}}
\DoxyCodeLine{00548\ }
\DoxyCodeLine{00549\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ \_Fn>}
\DoxyCodeLine{00550\ \ \ \ \ \_\_task*}
\DoxyCodeLine{00551\ \ \ \ \ make\_continuation(\_Fn\&\&\ \_\_f)}
\DoxyCodeLine{00552\ \ \ \ \ \{}
\DoxyCodeLine{00553\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ \_\_t\ =\ allocate\_func\_task(std::forward<\_Fn\&\&>(\_\_f));}
\DoxyCodeLine{00554\ \ \ \ \ \ \ \ \ \_\_t-\/>\_M\_parent\ =\ \_M\_parent;}
\DoxyCodeLine{00555\ \ \ \ \ \ \ \ \ \_M\_parent\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00556\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \_\_t;}
\DoxyCodeLine{00557\ \ \ \ \ \}}
\DoxyCodeLine{00558\ }
\DoxyCodeLine{00559\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ \_Fn>}
\DoxyCodeLine{00560\ \ \ \ \ \_\_task*}
\DoxyCodeLine{00561\ \ \ \ \ make\_child\_of(\_\_task*\ \_\_parent,\ \_Fn\&\&\ \_\_f)}
\DoxyCodeLine{00562\ \ \ \ \ \{}
\DoxyCodeLine{00563\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ \_\_t\ =\ allocate\_func\_task(std::forward<\_Fn\&\&>(\_\_f));}
\DoxyCodeLine{00564\ \ \ \ \ \ \ \ \ \_\_t-\/>\_M\_parent\ =\ \_\_parent;}
\DoxyCodeLine{00565\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \_\_t;}
\DoxyCodeLine{00566\ \ \ \ \ \}}
\DoxyCodeLine{00567\ }
\DoxyCodeLine{00568\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ \_Fn>}
\DoxyCodeLine{00569\ \ \ \ \ \_\_task*}
\DoxyCodeLine{00570\ \ \ \ \ make\_additional\_child\_of(\_\_task*\ \_\_parent,\ \_Fn\&\&\ \_\_f)}
\DoxyCodeLine{00571\ \ \ \ \ \{}
\DoxyCodeLine{00572\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ \_\_t\ =\ make\_child\_of(\_\_parent,\ std::forward<\_Fn>(\_\_f));}
\DoxyCodeLine{00573\ \ \ \ \ \ \ \ \ \_PSTL\_ASSERT(\_\_parent-\/>\_M\_refcount.load(std::memory\_order\_relaxed)\ >\ 0);}
\DoxyCodeLine{00574\ \ \ \ \ \ \ \ \ ++\_\_parent-\/>\_M\_refcount;}
\DoxyCodeLine{00575\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \_\_t;}
\DoxyCodeLine{00576\ \ \ \ \ \}}
\DoxyCodeLine{00577\ }
\DoxyCodeLine{00578\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}}
\DoxyCodeLine{00579\ \ \ \ \ recycle\_as\_continuation()}
\DoxyCodeLine{00580\ \ \ \ \ \{}
\DoxyCodeLine{00581\ \ \ \ \ \ \ \ \ \_M\_recycle\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00582\ \ \ \ \ \}}
\DoxyCodeLine{00583\ }
\DoxyCodeLine{00584\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}}
\DoxyCodeLine{00585\ \ \ \ \ recycle\_as\_child\_of(\_\_task*\ parent)}
\DoxyCodeLine{00586\ \ \ \ \ \{}
\DoxyCodeLine{00587\ \ \ \ \ \ \ \ \ \_M\_recycle\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00588\ \ \ \ \ \ \ \ \ \_M\_parent\ =\ parent;}
\DoxyCodeLine{00589\ \ \ \ \ \}}
\DoxyCodeLine{00590\ }
\DoxyCodeLine{00591\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}}
\DoxyCodeLine{00592\ \ \ \ \ spawn(\_\_task*\ \_\_t)}
\DoxyCodeLine{00593\ \ \ \ \ \{}
\DoxyCodeLine{00594\ \ \ \ \ \ \ \ \ \_PSTL\_ASSERT(\_M\_execute\_data\ !=\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{00595\ \ \ \ \ \ \ \ \ tbb::detail::d1::spawn(*\_\_t,\ *\_M\_execute\_data-\/>context);}
\DoxyCodeLine{00596\ \ \ \ \ \}}
\DoxyCodeLine{00597\ }
\DoxyCodeLine{00598\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ \_Fn>}
\DoxyCodeLine{00599\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}}
\DoxyCodeLine{00600\ \ \ \ \ spawn\_root\_and\_wait(\_\_root\_task<\_Fn>\&\ \_\_root)}
\DoxyCodeLine{00601\ \ \ \ \ \{}
\DoxyCodeLine{00602\ \ \ \ \ \ \ \ \ tbb::detail::d1::execute\_and\_wait(*\_\_root.\_M\_func\_task,\ \_\_root.\_M\_context,\ \_\_root.\_M\_wait\_object,}
\DoxyCodeLine{00603\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_\_root.\_M\_context);}
\DoxyCodeLine{00604\ \ \ \ \ \}}
\DoxyCodeLine{00605\ }
\DoxyCodeLine{00606\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ \_Func>}
\DoxyCodeLine{00607\ \ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }\_\_func\_task;}
\DoxyCodeLine{00608\ \};}
\DoxyCodeLine{00609\ }
\DoxyCodeLine{00610\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ \_Func>}
\DoxyCodeLine{00611\ \textcolor{keyword}{class\ }\_\_func\_task\ :\ \textcolor{keyword}{public}\ \_\_task}
\DoxyCodeLine{00612\ \{}
\DoxyCodeLine{00613\ \ \ \ \ \_Func\ \_M\_func;}
\DoxyCodeLine{00614\ }
\DoxyCodeLine{00615\ \ \ \ \ \_\_task*}
\DoxyCodeLine{00616\ \ \ \ \ execute(tbb::detail::d1::execution\_data\&\ \_\_ed)\textcolor{keyword}{\ override}}
\DoxyCodeLine{00617\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{00618\ \ \ \ \ \ \ \ \ \_M\_execute\_data\ =\ \&\_\_ed;}
\DoxyCodeLine{00619\ \ \ \ \ \ \ \ \ \_M\_recycle\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00620\ \ \ \ \ \ \ \ \ \_\_task*\ \_\_next\ =\ \_M\_func(\textcolor{keyword}{this});}
\DoxyCodeLine{00621\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ finalize(\_\_next);}
\DoxyCodeLine{00622\ \ \ \ \ \};}
\DoxyCodeLine{00623\ }
\DoxyCodeLine{00624\ \ \ \ \ \_\_task*}
\DoxyCodeLine{00625\ \ \ \ \ cancel(tbb::detail::d1::execution\_data\&\ \_\_ed)\textcolor{keyword}{\ override}}
\DoxyCodeLine{00626\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{00627\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ finalize(\textcolor{keyword}{nullptr});}
\DoxyCodeLine{00628\ \ \ \ \ \}}
\DoxyCodeLine{00629\ }
\DoxyCodeLine{00630\ \ \ \ \ \_\_task*}
\DoxyCodeLine{00631\ \ \ \ \ finalize(\_\_task*\ \_\_next)}
\DoxyCodeLine{00632\ \ \ \ \ \{}
\DoxyCodeLine{00633\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \_\_recycle\ =\ \_M\_recycle;}
\DoxyCodeLine{00634\ \ \ \ \ \ \ \ \ \_M\_recycle\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00635\ }
\DoxyCodeLine{00636\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\_\_recycle)}
\DoxyCodeLine{00637\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00638\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \_\_next;}
\DoxyCodeLine{00639\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00640\ }
\DoxyCodeLine{00641\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ \_\_parent\ =\ \_M\_parent;}
\DoxyCodeLine{00642\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ \_\_alloc\ =\ \_M\_allocator;}
\DoxyCodeLine{00643\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ \_\_ed\ =\ \_M\_execute\_data;}
\DoxyCodeLine{00644\ }
\DoxyCodeLine{00645\ \ \ \ \ \ \ \ \ this-\/>\string~\_\_func\_task();}
\DoxyCodeLine{00646\ }
\DoxyCodeLine{00647\ \ \ \ \ \ \ \ \ \_PSTL\_ASSERT(\_\_parent\ !=\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{00648\ \ \ \ \ \ \ \ \ \_PSTL\_ASSERT(\_\_parent-\/>\_M\_refcount.load(std::memory\_order\_relaxed)\ >\ 0);}
\DoxyCodeLine{00649\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (-\/-\/\_\_parent-\/>\_M\_refcount\ ==\ 0)}
\DoxyCodeLine{00650\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00651\ \ \ \ \ \ \ \ \ \ \ \ \ \_PSTL\_ASSERT(\_\_next\ ==\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{00652\ \ \ \ \ \ \ \ \ \ \ \ \ \_\_alloc.deallocate(\textcolor{keyword}{this},\ *\_\_ed);}
\DoxyCodeLine{00653\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \_\_parent;}
\DoxyCodeLine{00654\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00655\ }
\DoxyCodeLine{00656\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \_\_next;}
\DoxyCodeLine{00657\ \ \ \ \ \}}
\DoxyCodeLine{00658\ }
\DoxyCodeLine{00659\ \ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }\_\_root\_task<\_Func>;}
\DoxyCodeLine{00660\ }
\DoxyCodeLine{00661\ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00662\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ \_Fn>}
\DoxyCodeLine{00663\ \ \ \ \ \_\_func\_task(\_Fn\&\&\ \_\_f)\ :\ \_M\_func(\mbox{\hyperlink{namespacestd}{std}}::forward<\_Fn>(\_\_f))}
\DoxyCodeLine{00664\ \ \ \ \ \{}
\DoxyCodeLine{00665\ \ \ \ \ \}}
\DoxyCodeLine{00666\ }
\DoxyCodeLine{00667\ \ \ \ \ \_Func\&}
\DoxyCodeLine{00668\ \ \ \ \ body()}
\DoxyCodeLine{00669\ \ \ \ \ \{}
\DoxyCodeLine{00670\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \_M\_func;}
\DoxyCodeLine{00671\ \ \ \ \ \}}
\DoxyCodeLine{00672\ \};}
\DoxyCodeLine{00673\ }
\DoxyCodeLine{00674\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ \_Func>}
\DoxyCodeLine{00675\ \textcolor{keyword}{class\ }\_\_root\_task\ :\ \textcolor{keyword}{public}\ \_\_task}
\DoxyCodeLine{00676\ \{}
\DoxyCodeLine{00677\ \ \ \ \ \_\_task*}
\DoxyCodeLine{00678\ \ \ \ \ execute(tbb::detail::d1::execution\_data\&\ \_\_ed)\textcolor{keyword}{\ override}}
\DoxyCodeLine{00679\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{00680\ \ \ \ \ \ \ \ \ \_M\_wait\_object.release();}
\DoxyCodeLine{00681\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00682\ \ \ \ \ \};}
\DoxyCodeLine{00683\ }
\DoxyCodeLine{00684\ \ \ \ \ \_\_task*}
\DoxyCodeLine{00685\ \ \ \ \ cancel(tbb::detail::d1::execution\_data\&\ \_\_ed)\textcolor{keyword}{\ override}}
\DoxyCodeLine{00686\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{00687\ \ \ \ \ \ \ \ \ \_M\_wait\_object.release();}
\DoxyCodeLine{00688\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00689\ \ \ \ \ \}}
\DoxyCodeLine{00690\ }
\DoxyCodeLine{00691\ \ \ \ \ \_\_func\_task<\_Func>*\ \_M\_func\_task\{\};}
\DoxyCodeLine{00692\ \ \ \ \ tbb::detail::d1::wait\_context\ \_M\_wait\_object\{0\};}
\DoxyCodeLine{00693\ \ \ \ \ tbb::task\_group\_context\ \_M\_context\{\};}
\DoxyCodeLine{00694\ }
\DoxyCodeLine{00695\ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00696\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}...\ Args>}
\DoxyCodeLine{00697\ \ \ \ \ \_\_root\_task(Args\&\&...\ args)\ :\ \_M\_wait\_object\{1\}}
\DoxyCodeLine{00698\ \ \ \ \ \{}
\DoxyCodeLine{00699\ \ \ \ \ \ \ \ \ tbb::detail::d1::small\_object\_allocator\ \_\_alloc\{\};}
\DoxyCodeLine{00700\ \ \ \ \ \ \ \ \ \_M\_func\_task\ =\ \_\_alloc.new\_object<\_\_func\_task<\_Func>>(\_Func(std::forward<Args>(args)...));}
\DoxyCodeLine{00701\ \ \ \ \ \ \ \ \ \_M\_func\_task-\/>\_M\_allocator\ =\ \_\_alloc;}
\DoxyCodeLine{00702\ \ \ \ \ \ \ \ \ \_M\_func\_task-\/>\_M\_parent\ =\ \textcolor{keyword}{this};}
\DoxyCodeLine{00703\ \ \ \ \ \ \ \ \ \_M\_refcount.store(1,\ std::memory\_order\_relaxed);}
\DoxyCodeLine{00704\ \ \ \ \ \}}
\DoxyCodeLine{00705\ }
\DoxyCodeLine{00706\ \ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }\_\_task;}
\DoxyCodeLine{00707\ \};}
\DoxyCodeLine{00708\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ TBB\_INTERFACE\_VERSION\ <=\ 12000}}
\DoxyCodeLine{00709\ }
\DoxyCodeLine{00710\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ \_RandomAccessIterator1,\ \textcolor{keyword}{typename}\ \_RandomAccessIterator2,\ \textcolor{keyword}{typename}\ \_Compare,\ \textcolor{keyword}{typename}\ \_Cleanup,}
\DoxyCodeLine{00711\ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ \_LeafMerge>}
\DoxyCodeLine{00712\ \textcolor{keyword}{class\ }\_\_merge\_func}
\DoxyCodeLine{00713\ \{}
\DoxyCodeLine{00714\ \ \ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ std::iterator\_traits<\_RandomAccessIterator1>::difference\_type\ \_DifferenceType1;}
\DoxyCodeLine{00715\ \ \ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ std::iterator\_traits<\_RandomAccessIterator2>::difference\_type\ \_DifferenceType2;}
\DoxyCodeLine{00716\ \ \ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ std::common\_type<\_DifferenceType1,\ \_DifferenceType2>::type\ \_SizeType;}
\DoxyCodeLine{00717\ \ \ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ std::iterator\_traits<\_RandomAccessIterator1>::value\_type\ \_ValueType;}
\DoxyCodeLine{00718\ }
\DoxyCodeLine{00719\ \ \ \ \ \_RandomAccessIterator1\ \_M\_x\_beg;}
\DoxyCodeLine{00720\ \ \ \ \ \_RandomAccessIterator2\ \_M\_z\_beg;}
\DoxyCodeLine{00721\ }
\DoxyCodeLine{00722\ \ \ \ \ \_SizeType\ \_M\_xs,\ \_M\_xe;}
\DoxyCodeLine{00723\ \ \ \ \ \_SizeType\ \_M\_ys,\ \_M\_ye;}
\DoxyCodeLine{00724\ \ \ \ \ \_SizeType\ \_M\_zs;}
\DoxyCodeLine{00725\ \ \ \ \ \_Compare\ \_M\_comp;}
\DoxyCodeLine{00726\ \ \ \ \ \_LeafMerge\ \_M\_leaf\_merge;}
\DoxyCodeLine{00727\ \ \ \ \ \_SizeType\ \_M\_nsort;\ \textcolor{comment}{//number\ of\ elements\ to\ be\ sorted\ for\ partial\_sort\ alforithm}}
\DoxyCodeLine{00728\ }
\DoxyCodeLine{00729\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \_SizeType\ \_\_merge\_cut\_off\ =\ \mbox{\hyperlink{_classes_2lib_2include_2c_09_09_2pstl_2parallel__backend__tbb_8h_af869ba400ecc0d93c30063ce85199f6c}{\_PSTL\_MERGE\_CUT\_OFF}};}
\DoxyCodeLine{00730\ }
\DoxyCodeLine{00731\ \ \ \ \ \textcolor{keywordtype}{bool}\ \_root;\ \ \ \textcolor{comment}{//means\ a\ task\ is\ merging\ root\ task}}
\DoxyCodeLine{00732\ \ \ \ \ \textcolor{keywordtype}{bool}\ \_x\_orig;\ \textcolor{comment}{//"{}true"{}\ means\ X(or\ left\ )\ subrange\ is\ in\ the\ original\ container;\ false\ -\/\ in\ the\ buffer}}
\DoxyCodeLine{00733\ \ \ \ \ \textcolor{keywordtype}{bool}\ \_y\_orig;\ \textcolor{comment}{//"{}true"{}\ means\ Y(or\ right)\ subrange\ is\ in\ the\ original\ container;\ false\ -\/\ in\ the\ buffer}}
\DoxyCodeLine{00734\ \ \ \ \ \textcolor{keywordtype}{bool}\ \_split;\ \textcolor{comment}{//"{}true"{}\ means\ a\ merge\ task\ is\ a\ split\ task\ for\ parallel\ merging,\ the\ execution\ logic\ differs}}
\DoxyCodeLine{00735\ }
\DoxyCodeLine{00736\ \ \ \ \ \textcolor{keywordtype}{bool}}
\DoxyCodeLine{00737\ \ \ \ \ is\_partial()\textcolor{keyword}{\ const}}
\DoxyCodeLine{00738\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{00739\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \_M\_nsort\ >\ 0;}
\DoxyCodeLine{00740\ \ \ \ \ \}}
\DoxyCodeLine{00741\ }
\DoxyCodeLine{00742\ \ \ \ \ \textcolor{keyword}{struct\ }\_\_move\_value}
\DoxyCodeLine{00743\ \ \ \ \ \{}
\DoxyCodeLine{00744\ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Iterator1,\ \textcolor{keyword}{typename}\ Iterator2>}
\DoxyCodeLine{00745\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}}
\DoxyCodeLine{00746\ \ \ \ \ \ \ \ \ operator()(Iterator1\ \_\_x,\ Iterator2\ \_\_z)}
\DoxyCodeLine{00747\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00748\ \ \ \ \ \ \ \ \ \ \ \ \ *\_\_z\ =\ \mbox{\hyperlink{namespacestd_ac7095819f6a8da64d69b1ee3029c52be}{std::move}}(*\_\_x);}
\DoxyCodeLine{00749\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00750\ \ \ \ \ \};}
\DoxyCodeLine{00751\ }
\DoxyCodeLine{00752\ \ \ \ \ \textcolor{keyword}{struct\ }\_\_move\_value\_construct}
\DoxyCodeLine{00753\ \ \ \ \ \{}
\DoxyCodeLine{00754\ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Iterator1,\ \textcolor{keyword}{typename}\ Iterator2>}
\DoxyCodeLine{00755\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}}
\DoxyCodeLine{00756\ \ \ \ \ \ \ \ \ operator()(Iterator1\ \_\_x,\ Iterator2\ \_\_z)}
\DoxyCodeLine{00757\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00758\ \ \ \ \ \ \ \ \ \ \ \ \ ::new\ (std::addressof(*\_\_z))\ \_ValueType(\mbox{\hyperlink{namespacestd_ac7095819f6a8da64d69b1ee3029c52be}{std::move}}(*\_\_x));}
\DoxyCodeLine{00759\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00760\ \ \ \ \ \};}
\DoxyCodeLine{00761\ }
\DoxyCodeLine{00762\ \ \ \ \ \textcolor{keyword}{struct\ }\_\_move\_range}
\DoxyCodeLine{00763\ \ \ \ \ \{}
\DoxyCodeLine{00764\ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Iterator1,\ \textcolor{keyword}{typename}\ Iterator2>}
\DoxyCodeLine{00765\ \ \ \ \ \ \ \ \ Iterator2}
\DoxyCodeLine{00766\ \ \ \ \ \ \ \ \ operator()(Iterator1\ \_\_first1,\ Iterator1\ \_\_last1,\ Iterator2\ \_\_first2)}
\DoxyCodeLine{00767\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00768\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\_\_last1\ -\/\ \_\_first1\ <\ \_\_merge\_cut\_off)}
\DoxyCodeLine{00769\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacestd_ac7095819f6a8da64d69b1ee3029c52be}{std::move}}(\_\_first1,\ \_\_last1,\ \_\_first2);}
\DoxyCodeLine{00770\ }
\DoxyCodeLine{00771\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ \_\_n\ =\ \_\_last1\ -\/\ \_\_first1;}
\DoxyCodeLine{00772\ \ \ \ \ \ \ \ \ \ \ \ \ tbb::parallel\_for(tbb::blocked\_range<\_SizeType>(0,\ \_\_n,\ \_\_merge\_cut\_off),}
\DoxyCodeLine{00773\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ [\_\_first1,\ \_\_first2](\textcolor{keyword}{const}\ tbb::blocked\_range<\_SizeType>\&\ \_\_range)\ \{}
\DoxyCodeLine{00774\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacestd_ac7095819f6a8da64d69b1ee3029c52be}{std::move}}(\_\_first1\ +\ \_\_range.begin(),\ \_\_first1\ +\ \_\_range.end(),}
\DoxyCodeLine{00775\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_\_first2\ +\ \_\_range.begin());}
\DoxyCodeLine{00776\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \});}
\DoxyCodeLine{00777\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \_\_first2\ +\ \_\_n;}
\DoxyCodeLine{00778\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00779\ \ \ \ \ \};}
\DoxyCodeLine{00780\ }
\DoxyCodeLine{00781\ \ \ \ \ \textcolor{keyword}{struct\ }\_\_move\_range\_construct}
\DoxyCodeLine{00782\ \ \ \ \ \{}
\DoxyCodeLine{00783\ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Iterator1,\ \textcolor{keyword}{typename}\ Iterator2>}
\DoxyCodeLine{00784\ \ \ \ \ \ \ \ \ Iterator2}
\DoxyCodeLine{00785\ \ \ \ \ \ \ \ \ operator()(Iterator1\ \_\_first1,\ Iterator1\ \_\_last1,\ Iterator2\ \_\_first2)}
\DoxyCodeLine{00786\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00787\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\_\_last1\ -\/\ \_\_first1\ <\ \_\_merge\_cut\_off)}
\DoxyCodeLine{00788\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00789\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (;\ \_\_first1\ !=\ \_\_last1;\ ++\_\_first1,\ ++\_\_first2)}
\DoxyCodeLine{00790\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_\_move\_value\_construct()(\_\_first1,\ \_\_first2);}
\DoxyCodeLine{00791\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \_\_first2;}
\DoxyCodeLine{00792\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00793\ }
\DoxyCodeLine{00794\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ \_\_n\ =\ \_\_last1\ -\/\ \_\_first1;}
\DoxyCodeLine{00795\ \ \ \ \ \ \ \ \ \ \ \ \ tbb::parallel\_for(tbb::blocked\_range<\_SizeType>(0,\ \_\_n,\ \_\_merge\_cut\_off),}
\DoxyCodeLine{00796\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ [\_\_first1,\ \_\_first2](\textcolor{keyword}{const}\ tbb::blocked\_range<\_SizeType>\&\ \_\_range)\ \{}
\DoxyCodeLine{00797\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\ i\ =\ \_\_range.begin();\ i\ !=\ \_\_range.end();\ ++i)}
\DoxyCodeLine{00798\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_\_move\_value\_construct()(\_\_first1\ +\ i,\ \_\_first2\ +\ i);}
\DoxyCodeLine{00799\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \});}
\DoxyCodeLine{00800\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \_\_first2\ +\ \_\_n;}
\DoxyCodeLine{00801\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00802\ \ \ \ \ \};}
\DoxyCodeLine{00803\ }
\DoxyCodeLine{00804\ \ \ \ \ \textcolor{keyword}{struct\ }\_\_cleanup\_range}
\DoxyCodeLine{00805\ \ \ \ \ \{}
\DoxyCodeLine{00806\ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Iterator>}
\DoxyCodeLine{00807\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}}
\DoxyCodeLine{00808\ \ \ \ \ \ \ \ \ operator()(Iterator\ \_\_first,\ Iterator\ \_\_last)}
\DoxyCodeLine{00809\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00810\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\_\_last\ -\/\ \_\_first\ <\ \_\_merge\_cut\_off)}
\DoxyCodeLine{00811\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_Cleanup()(\_\_first,\ \_\_last);}
\DoxyCodeLine{00812\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00813\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00814\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ \_\_n\ =\ \_\_last\ -\/\ \_\_first;}
\DoxyCodeLine{00815\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ tbb::parallel\_for(tbb::blocked\_range<\_SizeType>(0,\ \_\_n,\ \_\_merge\_cut\_off),}
\DoxyCodeLine{00816\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ [\_\_first](\textcolor{keyword}{const}\ tbb::blocked\_range<\_SizeType>\&\ \_\_range)\ \{}
\DoxyCodeLine{00817\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_Cleanup()(\_\_first\ +\ \_\_range.begin(),\ \_\_first\ +\ \_\_range.end());}
\DoxyCodeLine{00818\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \});}
\DoxyCodeLine{00819\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00820\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00821\ \ \ \ \ \};}
\DoxyCodeLine{00822\ }
\DoxyCodeLine{00823\ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00824\ \ \ \ \ \mbox{\hyperlink{class____pstl_1_1____tbb__backend_1_1____merge__func_ad70838187f992556274f4ad60d5abccd}{\_\_merge\_func}}(\_SizeType\ \_\_xs,\ \_SizeType\ \_\_xe,\ \_SizeType\ \_\_ys,\ \_SizeType\ \_\_ye,\ \_SizeType\ \_\_zs,\ \_Compare\ \_\_comp,}
\DoxyCodeLine{00825\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_Cleanup,\ \_LeafMerge\ \_\_leaf\_merge,\ \_SizeType\ \_\_nsort,\ \_RandomAccessIterator1\ \_\_x\_beg,}
\DoxyCodeLine{00826\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_RandomAccessIterator2\ \_\_z\_beg,\ \textcolor{keywordtype}{bool}\ \_\_x\_orig,\ \textcolor{keywordtype}{bool}\ \_\_y\_orig,\ \textcolor{keywordtype}{bool}\ \_\_root)}
\DoxyCodeLine{00827\ \ \ \ \ \ \ \ \ :\ \_M\_xs(\_\_xs),\ \_M\_xe(\_\_xe),\ \_M\_ys(\_\_ys),\ \_M\_ye(\_\_ye),\ \_M\_zs(\_\_zs),\ \_M\_x\_beg(\_\_x\_beg),\ \_M\_z\_beg(\_\_z\_beg),}
\DoxyCodeLine{00828\ \ \ \ \ \ \ \ \ \ \ \_M\_comp(\_\_comp),\ \_M\_leaf\_merge(\_\_leaf\_merge),\ \_M\_nsort(\_\_nsort),\ \_root(\_\_root),}
\DoxyCodeLine{00829\ \ \ \ \ \ \ \ \ \ \ \_x\_orig(\_\_x\_orig),\ \_y\_orig(\_\_y\_orig),\ \_split(\mbox{\hyperlink{_classes_2lib_2include_2stdbool_8h_a65e9886d74aaee76545e83dd09011727}{false}})}
\DoxyCodeLine{00830\ \ \ \ \ \{}
\DoxyCodeLine{00831\ \ \ \ \ \}}
\DoxyCodeLine{00832\ }
\DoxyCodeLine{00833\ \ \ \ \ \textcolor{keywordtype}{bool}}
\DoxyCodeLine{00834\ \ \ \ \ \mbox{\hyperlink{class____pstl_1_1____tbb__backend_1_1____merge__func_a522a6348cd3d14ef1885e45b6107c3f6}{is\_left}}(\_SizeType\ \_\_idx)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00835\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{00836\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \_M\_xs\ ==\ \_\_idx;}
\DoxyCodeLine{00837\ \ \ \ \ \}}
\DoxyCodeLine{00838\ }
\DoxyCodeLine{00839\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ IndexType>}
\DoxyCodeLine{00840\ \ \ \ \ \textcolor{keywordtype}{void}}
\DoxyCodeLine{00841\ \ \ \ \ \mbox{\hyperlink{class____pstl_1_1____tbb__backend_1_1____merge__func_afc24fae571f75b8f9aa700d18de319a6}{set\_odd}}(IndexType\ \_\_idx,\ \textcolor{keywordtype}{bool}\ \_\_on\_off)}
\DoxyCodeLine{00842\ \ \ \ \ \{}
\DoxyCodeLine{00843\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (is\_left(\_\_idx))}
\DoxyCodeLine{00844\ \ \ \ \ \ \ \ \ \ \ \ \ \_x\_orig\ =\ \_\_on\_off;}
\DoxyCodeLine{00845\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00846\ \ \ \ \ \ \ \ \ \ \ \ \ \_y\_orig\ =\ \_\_on\_off;}
\DoxyCodeLine{00847\ \ \ \ \ \}}
\DoxyCodeLine{00848\ }
\DoxyCodeLine{00849\ \ \ \ \ \mbox{\hyperlink{class____pstl_1_1____tbb__backend_1_1____task}{\_\_task}}*}
\DoxyCodeLine{00850\ \ \ \ \ \mbox{\hyperlink{class____pstl_1_1____tbb__backend_1_1____merge__func_aa2e0ca38a43a3d5d80cc3533df4ea90b}{operator()}}(\mbox{\hyperlink{class____pstl_1_1____tbb__backend_1_1____task}{\_\_task}}*\ \_\_self);}
\DoxyCodeLine{00851\ }
\DoxyCodeLine{00852\ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00853\ \ \ \ \ \mbox{\hyperlink{class____pstl_1_1____tbb__backend_1_1____merge__func}{\_\_merge\_func}}*}
\DoxyCodeLine{00854\ \ \ \ \ parent\_merge(\mbox{\hyperlink{class____pstl_1_1____tbb__backend_1_1____task}{\_\_task}}*\ \_\_self)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00855\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{00856\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \_root\ ?\ nullptr\ :\ \&\textcolor{keyword}{static\_cast<}\mbox{\hyperlink{class____pstl_1_1____tbb__backend_1_1____func__task}{\_\_func\_task<\_\_merge\_func>}}*\textcolor{keyword}{>}(\_\_self-\/>parent())-\/>body();}
\DoxyCodeLine{00857\ \ \ \ \ \}}
\DoxyCodeLine{00858\ \ \ \ \ \textcolor{keywordtype}{bool}}
\DoxyCodeLine{00859\ \ \ \ \ x\_less\_y()}
\DoxyCodeLine{00860\ \ \ \ \ \{}
\DoxyCodeLine{00861\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ \_\_nx\ =\ (\_M\_xe\ -\/\ \_M\_xs);}
\DoxyCodeLine{00862\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ \_\_ny\ =\ (\_M\_ye\ -\/\ \_M\_ys);}
\DoxyCodeLine{00863\ \ \ \ \ \ \ \ \ \_PSTL\_ASSERT(\_\_nx\ >\ 0\ \&\&\ \_\_ny\ >\ 0);}
\DoxyCodeLine{00864\ }
\DoxyCodeLine{00865\ \ \ \ \ \ \ \ \ \_PSTL\_ASSERT(\_x\_orig\ ==\ \_y\_orig);}
\DoxyCodeLine{00866\ \ \ \ \ \ \ \ \ \_PSTL\_ASSERT(!is\_partial());}
\DoxyCodeLine{00867\ }
\DoxyCodeLine{00868\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\_x\_orig)}
\DoxyCodeLine{00869\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00870\ \ \ \ \ \ \ \ \ \ \ \ \ \_PSTL\_ASSERT(\mbox{\hyperlink{namespacestd_a042892d225ddbeba3c9cbd839dba38a9}{std::is\_sorted}}(\_M\_x\_beg\ +\ \_M\_xs,\ \_M\_x\_beg\ +\ \_M\_xe,\ \_M\_comp));}
\DoxyCodeLine{00871\ \ \ \ \ \ \ \ \ \ \ \ \ \_PSTL\_ASSERT(\mbox{\hyperlink{namespacestd_a042892d225ddbeba3c9cbd839dba38a9}{std::is\_sorted}}(\_M\_x\_beg\ +\ \_M\_ys,\ \_M\_x\_beg\ +\ \_M\_ye,\ \_M\_comp));}
\DoxyCodeLine{00872\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ !\_M\_comp(*(\_M\_x\_beg\ +\ \_M\_ys),\ *(\_M\_x\_beg\ +\ \_M\_xe\ -\/\ 1));}
\DoxyCodeLine{00873\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00874\ }
\DoxyCodeLine{00875\ \ \ \ \ \ \ \ \ \_PSTL\_ASSERT(\mbox{\hyperlink{namespacestd_a042892d225ddbeba3c9cbd839dba38a9}{std::is\_sorted}}(\_M\_z\_beg\ +\ \_M\_xs,\ \_M\_z\_beg\ +\ \_M\_xe,\ \_M\_comp));}
\DoxyCodeLine{00876\ \ \ \ \ \ \ \ \ \_PSTL\_ASSERT(\mbox{\hyperlink{namespacestd_a042892d225ddbeba3c9cbd839dba38a9}{std::is\_sorted}}(\_M\_z\_beg\ +\ \_M\_ys,\ \_M\_z\_beg\ +\ \_M\_ye,\ \_M\_comp));}
\DoxyCodeLine{00877\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ !\_M\_comp(*(\_M\_z\_beg\ +\ \_M\_zs\ +\ \_\_nx),\ *(\_M\_z\_beg\ +\ \_M\_zs\ +\ \_\_nx\ -\/\ 1));}
\DoxyCodeLine{00878\ \ \ \ \ \}}
\DoxyCodeLine{00879\ \ \ \ \ \textcolor{keywordtype}{void}}
\DoxyCodeLine{00880\ \ \ \ \ move\_x\_range()}
\DoxyCodeLine{00881\ \ \ \ \ \{}
\DoxyCodeLine{00882\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ \_\_nx\ =\ (\_M\_xe\ -\/\ \_M\_xs);}
\DoxyCodeLine{00883\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ \_\_ny\ =\ (\_M\_ye\ -\/\ \_M\_ys);}
\DoxyCodeLine{00884\ \ \ \ \ \ \ \ \ \_PSTL\_ASSERT(\_\_nx\ >\ 0\ \&\&\ \_\_ny\ >\ 0);}
\DoxyCodeLine{00885\ }
\DoxyCodeLine{00886\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\_x\_orig)}
\DoxyCodeLine{00887\ \ \ \ \ \ \ \ \ \ \ \ \ \_\_move\_range\_construct()(\_M\_x\_beg\ +\ \_M\_xs,\ \_M\_x\_beg\ +\ \_M\_xe,\ \_M\_z\_beg\ +\ \_M\_zs);}
\DoxyCodeLine{00888\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00889\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00890\ \ \ \ \ \ \ \ \ \ \ \ \ \_\_move\_range()(\_M\_z\_beg\ +\ \_M\_zs,\ \_M\_z\_beg\ +\ \_M\_zs\ +\ \_\_nx,\ \_M\_x\_beg\ +\ \_M\_xs);}
\DoxyCodeLine{00891\ \ \ \ \ \ \ \ \ \ \ \ \ \_\_cleanup\_range()(\_M\_z\_beg\ +\ \_M\_zs,\ \_M\_z\_beg\ +\ \_M\_zs\ +\ \_\_nx);}
\DoxyCodeLine{00892\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00893\ }
\DoxyCodeLine{00894\ \ \ \ \ \ \ \ \ \_x\_orig\ =\ !\_x\_orig;}
\DoxyCodeLine{00895\ \ \ \ \ \}}
\DoxyCodeLine{00896\ \ \ \ \ \textcolor{keywordtype}{void}}
\DoxyCodeLine{00897\ \ \ \ \ move\_y\_range()}
\DoxyCodeLine{00898\ \ \ \ \ \{}
\DoxyCodeLine{00899\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ \_\_nx\ =\ (\_M\_xe\ -\/\ \_M\_xs);}
\DoxyCodeLine{00900\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ \_\_ny\ =\ (\_M\_ye\ -\/\ \_M\_ys);}
\DoxyCodeLine{00901\ }
\DoxyCodeLine{00902\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\_y\_orig)}
\DoxyCodeLine{00903\ \ \ \ \ \ \ \ \ \ \ \ \ \_\_move\_range\_construct()(\_M\_x\_beg\ +\ \_M\_ys,\ \_M\_x\_beg\ +\ \_M\_ye,\ \_M\_z\_beg\ +\ \_M\_zs\ +\ \_\_nx);}
\DoxyCodeLine{00904\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00905\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00906\ \ \ \ \ \ \ \ \ \ \ \ \ \_\_move\_range()(\_M\_z\_beg\ +\ \_M\_zs\ +\ \_\_nx,\ \_M\_z\_beg\ +\ \_M\_zs\ +\ \_\_nx\ +\ \_\_ny,\ \_M\_x\_beg\ +\ \_M\_ys);}
\DoxyCodeLine{00907\ \ \ \ \ \ \ \ \ \ \ \ \ \_\_cleanup\_range()(\_M\_z\_beg\ +\ \_M\_zs\ +\ \_\_nx,\ \_M\_z\_beg\ +\ \_M\_zs\ +\ \_\_nx\ +\ \_\_ny);}
\DoxyCodeLine{00908\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00909\ }
\DoxyCodeLine{00910\ \ \ \ \ \ \ \ \ \_y\_orig\ =\ !\_y\_orig;}
\DoxyCodeLine{00911\ \ \ \ \ \}}
\DoxyCodeLine{00912\ \ \ \ \ \_\_task*}
\DoxyCodeLine{00913\ \ \ \ \ merge\_ranges(\_\_task*\ \_\_self)}
\DoxyCodeLine{00914\ \ \ \ \ \{}
\DoxyCodeLine{00915\ \ \ \ \ \ \ \ \ \_PSTL\_ASSERT(\_x\_orig\ ==\ \_y\_orig);\ \textcolor{comment}{//two\ merged\ subrange\ must\ be\ lie\ into\ the\ same\ buffer}}
\DoxyCodeLine{00916\ }
\DoxyCodeLine{00917\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ \_\_nx\ =\ (\_M\_xe\ -\/\ \_M\_xs);}
\DoxyCodeLine{00918\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ \_\_ny\ =\ (\_M\_ye\ -\/\ \_M\_ys);}
\DoxyCodeLine{00919\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ \_\_n\ =\ \_\_nx\ +\ \_\_ny;}
\DoxyCodeLine{00920\ }
\DoxyCodeLine{00921\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ need\ to\ merge\ \{x\}\ and\ \{y\}}}
\DoxyCodeLine{00922\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\_\_n\ >\ \_\_merge\_cut\_off)}
\DoxyCodeLine{00923\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ split\_merging(\_\_self);}
\DoxyCodeLine{00924\ }
\DoxyCodeLine{00925\ \ \ \ \ \ \ \ \ \textcolor{comment}{//merge\ to\ buffer}}
\DoxyCodeLine{00926\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\_x\_orig)}
\DoxyCodeLine{00927\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00928\ \ \ \ \ \ \ \ \ \ \ \ \ \_M\_leaf\_merge(\_M\_x\_beg\ +\ \_M\_xs,\ \_M\_x\_beg\ +\ \_M\_xe,\ \_M\_x\_beg\ +\ \_M\_ys,\ \_M\_x\_beg\ +\ \_M\_ye,\ \_M\_z\_beg\ +\ \_M\_zs,}
\DoxyCodeLine{00929\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_M\_comp,\ \_\_move\_value\_construct(),\ \_\_move\_value\_construct(),\ \_\_move\_range\_construct(),}
\DoxyCodeLine{00930\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_\_move\_range\_construct());}
\DoxyCodeLine{00931\ \ \ \ \ \ \ \ \ \ \ \ \ \_PSTL\_ASSERT(parent\_merge(\_\_self));\ \textcolor{comment}{//not\ root\ merging\ task}}
\DoxyCodeLine{00932\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00933\ \ \ \ \ \ \ \ \ \textcolor{comment}{//merge\ to\ "{}origin"{}}}
\DoxyCodeLine{00934\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00935\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00936\ \ \ \ \ \ \ \ \ \ \ \ \ \_PSTL\_ASSERT(\_x\_orig\ ==\ \_y\_orig);}
\DoxyCodeLine{00937\ }
\DoxyCodeLine{00938\ \ \ \ \ \ \ \ \ \ \ \ \ \_PSTL\_ASSERT(is\_partial()\ ||\ \mbox{\hyperlink{namespacestd_a042892d225ddbeba3c9cbd839dba38a9}{std::is\_sorted}}(\_M\_z\_beg\ +\ \_M\_xs,\ \_M\_z\_beg\ +\ \_M\_xe,\ \_M\_comp));}
\DoxyCodeLine{00939\ \ \ \ \ \ \ \ \ \ \ \ \ \_PSTL\_ASSERT(is\_partial()\ ||\ \mbox{\hyperlink{namespacestd_a042892d225ddbeba3c9cbd839dba38a9}{std::is\_sorted}}(\_M\_z\_beg\ +\ \_M\_ys,\ \_M\_z\_beg\ +\ \_M\_ye,\ \_M\_comp));}
\DoxyCodeLine{00940\ }
\DoxyCodeLine{00941\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ \_\_nx\ =\ (\_M\_xe\ -\/\ \_M\_xs);}
\DoxyCodeLine{00942\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ \_\_ny\ =\ (\_M\_ye\ -\/\ \_M\_ys);}
\DoxyCodeLine{00943\ }
\DoxyCodeLine{00944\ \ \ \ \ \ \ \ \ \ \ \ \ \_M\_leaf\_merge(\_M\_z\_beg\ +\ \_M\_xs,\ \_M\_z\_beg\ +\ \_M\_xe,\ \_M\_z\_beg\ +\ \_M\_ys,\ \_M\_z\_beg\ +\ \_M\_ye,\ \_M\_x\_beg\ +\ \_M\_zs,}
\DoxyCodeLine{00945\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_M\_comp,\ \_\_move\_value(),\ \_\_move\_value(),\ \_\_move\_range(),\ \_\_move\_range());}
\DoxyCodeLine{00946\ }
\DoxyCodeLine{00947\ \ \ \ \ \ \ \ \ \ \ \ \ \_\_cleanup\_range()(\_M\_z\_beg\ +\ \_M\_xs,\ \_M\_z\_beg\ +\ \_M\_xe);}
\DoxyCodeLine{00948\ \ \ \ \ \ \ \ \ \ \ \ \ \_\_cleanup\_range()(\_M\_z\_beg\ +\ \_M\_ys,\ \_M\_z\_beg\ +\ \_M\_ye);}
\DoxyCodeLine{00949\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00950\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00951\ \ \ \ \ \}}
\DoxyCodeLine{00952\ }
\DoxyCodeLine{00953\ \ \ \ \ \_\_task*}
\DoxyCodeLine{00954\ \ \ \ \ process\_ranges(\_\_task*\ \_\_self)}
\DoxyCodeLine{00955\ \ \ \ \ \{}
\DoxyCodeLine{00956\ \ \ \ \ \ \ \ \ \_PSTL\_ASSERT(\_x\_orig\ ==\ \_y\_orig);}
\DoxyCodeLine{00957\ \ \ \ \ \ \ \ \ \_PSTL\_ASSERT(!\_split);}
\DoxyCodeLine{00958\ }
\DoxyCodeLine{00959\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ p\ =\ parent\_merge(\_\_self);}
\DoxyCodeLine{00960\ }
\DoxyCodeLine{00961\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!p)}
\DoxyCodeLine{00962\ \ \ \ \ \ \ \ \ \{\ \textcolor{comment}{//root\ merging\ task}}
\DoxyCodeLine{00963\ }
\DoxyCodeLine{00964\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//optimization,\ just\ for\ sort\ algorithm,\ //\{x\}\ <=\ \{y\}}}
\DoxyCodeLine{00965\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!is\_partial()\ \&\&\ x\_less\_y())\ \textcolor{comment}{//we\ have\ a\ solution}}
\DoxyCodeLine{00966\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00967\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\_x\_orig)}
\DoxyCodeLine{00968\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//we\ have\ to\ move\ the\ solution\ to\ the\ origin}}
\DoxyCodeLine{00969\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ move\_x\_range();\ \textcolor{comment}{//parallel\ moving}}
\DoxyCodeLine{00970\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ move\_y\_range();\ \textcolor{comment}{//parallel\ moving}}
\DoxyCodeLine{00971\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00972\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00973\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00974\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//else:\ if\ we\ have\ data\ in\ the\ origin,}}
\DoxyCodeLine{00975\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//we\ have\ to\ move\ data\ to\ the\ buffer\ for\ final\ merging\ into\ the\ origin.}}
\DoxyCodeLine{00976\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\_x\_orig)}
\DoxyCodeLine{00977\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00978\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ move\_x\_range();\ \textcolor{comment}{//parallel\ moving}}
\DoxyCodeLine{00979\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ move\_y\_range();\ \textcolor{comment}{//parallel\ moving}}
\DoxyCodeLine{00980\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00981\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ need\ to\ merge\ \{x\}\ and\ \{y\}.}}
\DoxyCodeLine{00982\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ merge\_ranges(\_\_self);}
\DoxyCodeLine{00983\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00984\ \ \ \ \ \ \ \ \ \textcolor{comment}{//else:\ not\ root\ merging\ task\ (parent\_merge()\ ==\ NULL)}}
\DoxyCodeLine{00985\ \ \ \ \ \ \ \ \ \textcolor{comment}{//optimization,\ just\ for\ sort\ algorithm,\ //\{x\}\ <=\ \{y\}}}
\DoxyCodeLine{00986\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!is\_partial()\ \&\&\ x\_less\_y())}
\DoxyCodeLine{00987\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00988\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ id\_range\ =\ \_M\_zs;}
\DoxyCodeLine{00989\ \ \ \ \ \ \ \ \ \ \ \ \ p-\/>set\_odd(id\_range,\ \_x\_orig);}
\DoxyCodeLine{00990\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00991\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00992\ \ \ \ \ \ \ \ \ \textcolor{comment}{//else:\ we\ have\ to\ revert\ "{}\_x(y)\_orig"{}\ flag\ of\ the\ parent\ merging\ task}}
\DoxyCodeLine{00993\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ id\_range\ =\ \_M\_zs;}
\DoxyCodeLine{00994\ \ \ \ \ \ \ \ \ p-\/>set\_odd(id\_range,\ !\_x\_orig);}
\DoxyCodeLine{00995\ }
\DoxyCodeLine{00996\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ merge\_ranges(\_\_self);}
\DoxyCodeLine{00997\ \ \ \ \ \}}
\DoxyCodeLine{00998\ }
\DoxyCodeLine{00999\ \ \ \ \ \textcolor{comment}{//splitting\ as\ merge\ task\ into\ 2\ of\ the\ same\ level}}
\DoxyCodeLine{01000\ \ \ \ \ \_\_task*}
\DoxyCodeLine{01001\ \ \ \ \ split\_merging(\_\_task*\ \_\_self)}
\DoxyCodeLine{01002\ \ \ \ \ \{}
\DoxyCodeLine{01003\ \ \ \ \ \ \ \ \ \_PSTL\_ASSERT(\_x\_orig\ ==\ \_y\_orig);}
\DoxyCodeLine{01004\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ \_\_nx\ =\ (\_M\_xe\ -\/\ \_M\_xs);}
\DoxyCodeLine{01005\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ \_\_ny\ =\ (\_M\_ye\ -\/\ \_M\_ys);}
\DoxyCodeLine{01006\ }
\DoxyCodeLine{01007\ \ \ \ \ \ \ \ \ \_SizeType\ \_\_xm\{\};}
\DoxyCodeLine{01008\ \ \ \ \ \ \ \ \ \_SizeType\ \_\_ym\{\};}
\DoxyCodeLine{01009\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\_\_nx\ <\ \_\_ny)}
\DoxyCodeLine{01010\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{01011\ \ \ \ \ \ \ \ \ \ \ \ \ \_\_ym\ =\ \_M\_ys\ +\ \_\_ny\ /\ 2;}
\DoxyCodeLine{01012\ }
\DoxyCodeLine{01013\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\_x\_orig)}
\DoxyCodeLine{01014\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_\_xm\ =\ std::upper\_bound(\_M\_x\_beg\ +\ \_M\_xs,\ \_M\_x\_beg\ +\ \_M\_xe,\ *(\_M\_x\_beg\ +\ \_\_ym),\ \_M\_comp)\ -\/\ \_M\_x\_beg;}
\DoxyCodeLine{01015\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{01016\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_\_xm\ =\ std::upper\_bound(\_M\_z\_beg\ +\ \_M\_xs,\ \_M\_z\_beg\ +\ \_M\_xe,\ *(\_M\_z\_beg\ +\ \_\_ym),\ \_M\_comp)\ -\/\ \_M\_z\_beg;}
\DoxyCodeLine{01017\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01018\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{01019\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{01020\ \ \ \ \ \ \ \ \ \ \ \ \ \_\_xm\ =\ \_M\_xs\ +\ \_\_nx\ /\ 2;}
\DoxyCodeLine{01021\ }
\DoxyCodeLine{01022\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\_y\_orig)}
\DoxyCodeLine{01023\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_\_ym\ =\ std::lower\_bound(\_M\_x\_beg\ +\ \_M\_ys,\ \_M\_x\_beg\ +\ \_M\_ye,\ *(\_M\_x\_beg\ +\ \_\_xm),\ \_M\_comp)\ -\/\ \_M\_x\_beg;}
\DoxyCodeLine{01024\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{01025\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_\_ym\ =\ std::lower\_bound(\_M\_z\_beg\ +\ \_M\_ys,\ \_M\_z\_beg\ +\ \_M\_ye,\ *(\_M\_z\_beg\ +\ \_\_xm),\ \_M\_comp)\ -\/\ \_M\_z\_beg;}
\DoxyCodeLine{01026\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01027\ }
\DoxyCodeLine{01028\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ \_\_zm\ =\ \_M\_zs\ +\ ((\_\_xm\ -\/\ \_M\_xs)\ +\ (\_\_ym\ -\/\ \_M\_ys));}
\DoxyCodeLine{01029\ \ \ \ \ \ \ \ \ \_\_merge\_func\ \_\_right\_func(\_\_xm,\ \_M\_xe,\ \_\_ym,\ \_M\_ye,\ \_\_zm,\ \_M\_comp,\ \_Cleanup(),\ \_M\_leaf\_merge,\ \_M\_nsort,}
\DoxyCodeLine{01030\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_M\_x\_beg,\ \_M\_z\_beg,\ \_x\_orig,\ \_y\_orig,\ \_root);}
\DoxyCodeLine{01031\ \ \ \ \ \ \ \ \ \_\_right\_func.\_split\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{01032\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ \_\_merge\_task\ =\ \_\_self-\/>make\_additional\_child\_of(\_\_self-\/>parent(),\ \mbox{\hyperlink{namespacestd_ac7095819f6a8da64d69b1ee3029c52be}{std::move}}(\_\_right\_func));}
\DoxyCodeLine{01033\ \ \ \ \ \ \ \ \ \_\_self-\/>spawn(\_\_merge\_task);}
\DoxyCodeLine{01034\ \ \ \ \ \ \ \ \ \_\_self-\/>recycle\_as\_continuation();}
\DoxyCodeLine{01035\ }
\DoxyCodeLine{01036\ \ \ \ \ \ \ \ \ \_M\_xe\ =\ \_\_xm;}
\DoxyCodeLine{01037\ \ \ \ \ \ \ \ \ \_M\_ye\ =\ \_\_ym;}
\DoxyCodeLine{01038\ \ \ \ \ \ \ \ \ \_split\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{01039\ }
\DoxyCodeLine{01040\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \_\_self;}
\DoxyCodeLine{01041\ \ \ \ \ \}}
\DoxyCodeLine{01042\ \};}
\DoxyCodeLine{01043\ }
\DoxyCodeLine{01044\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ \_RandomAccessIterator1,\ \textcolor{keyword}{typename}\ \_RandomAccessIterator2,\ \textcolor{keyword}{typename}\ \_\_M\_Compare,\ \textcolor{keyword}{typename}\ \_Cleanup,}
\DoxyCodeLine{01045\ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ \_LeafMerge>}
\DoxyCodeLine{01046\ \_\_task*}
\DoxyCodeLine{01047\ \_\_merge\_func<\_RandomAccessIterator1,\ \_RandomAccessIterator2,\ \_\_M\_Compare,\ \_Cleanup,\ \_LeafMerge>::}
\DoxyCodeLine{01048\ operator()(\_\_task*\ \_\_self)}
\DoxyCodeLine{01049\ \{}
\DoxyCodeLine{01050\ \ \ \ \ \textcolor{comment}{//a.\ split\ merge\ task\ into\ 2\ of\ the\ same\ level;\ the\ special\ logic,}}
\DoxyCodeLine{01051\ \ \ \ \ \textcolor{comment}{//without\ processing(process\_ranges)\ adjacent\ sub-\/ranges\ x\ and\ y}}
\DoxyCodeLine{01052\ \ \ \ \ \textcolor{keywordflow}{if}\ (\_split)}
\DoxyCodeLine{01053\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ merge\_ranges(\_\_self);}
\DoxyCodeLine{01054\ }
\DoxyCodeLine{01055\ \ \ \ \ \textcolor{comment}{//b.\ General\ merging\ of\ adjacent\ sub-\/ranges\ x\ and\ y\ (with\ optimization\ in\ case\ of\ \{x\}\ <=\ \{y\}\ )}}
\DoxyCodeLine{01056\ }
\DoxyCodeLine{01057\ \ \ \ \ \textcolor{comment}{//1.\ x\ and\ y\ are\ in\ the\ even\ buffer}}
\DoxyCodeLine{01058\ \ \ \ \ \textcolor{comment}{//2.\ x\ and\ y\ are\ in\ the\ odd\ buffer}}
\DoxyCodeLine{01059\ \ \ \ \ \textcolor{keywordflow}{if}\ (\_x\_orig\ ==\ \_y\_orig)}
\DoxyCodeLine{01060\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ process\_ranges(\_\_self);}
\DoxyCodeLine{01061\ }
\DoxyCodeLine{01062\ \ \ \ \ \textcolor{comment}{//3.\ x\ is\ in\ even\ buffer,\ y\ is\ in\ the\ odd\ buffer}}
\DoxyCodeLine{01063\ \ \ \ \ \textcolor{comment}{//4.\ x\ is\ in\ odd\ buffer,\ y\ is\ in\ the\ even\ buffer}}
\DoxyCodeLine{01064\ \ \ \ \ \textcolor{keywordflow}{if}\ (!parent\_merge(\_\_self))}
\DoxyCodeLine{01065\ \ \ \ \ \{\ \textcolor{comment}{//root\ merge\ task}}
\DoxyCodeLine{01066\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\_x\_orig)}
\DoxyCodeLine{01067\ \ \ \ \ \ \ \ \ \ \ \ \ move\_x\_range();}
\DoxyCodeLine{01068\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{01069\ \ \ \ \ \ \ \ \ \ \ \ \ move\_y\_range();}
\DoxyCodeLine{01070\ \ \ \ \ \}}
\DoxyCodeLine{01071\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{01072\ \ \ \ \ \{}
\DoxyCodeLine{01073\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \_SizeType\ \_\_nx\ =\ (\_M\_xe\ -\/\ \_M\_xs);}
\DoxyCodeLine{01074\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \_SizeType\ \_\_ny\ =\ (\_M\_ye\ -\/\ \_M\_ys);}
\DoxyCodeLine{01075\ \ \ \ \ \ \ \ \ \_PSTL\_ASSERT(\_\_nx\ >\ 0);}
\DoxyCodeLine{01076\ \ \ \ \ \ \ \ \ \_PSTL\_ASSERT(\_\_nx\ >\ 0);}
\DoxyCodeLine{01077\ }
\DoxyCodeLine{01078\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\_\_nx\ <\ \_\_ny)}
\DoxyCodeLine{01079\ \ \ \ \ \ \ \ \ \ \ \ \ move\_x\_range();}
\DoxyCodeLine{01080\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{01081\ \ \ \ \ \ \ \ \ \ \ \ \ move\_y\_range();}
\DoxyCodeLine{01082\ \ \ \ \ \}}
\DoxyCodeLine{01083\ }
\DoxyCodeLine{01084\ \ \ \ \ \textcolor{keywordflow}{return}\ process\_ranges(\_\_self);}
\DoxyCodeLine{01085\ \}}
\DoxyCodeLine{01086\ }
\DoxyCodeLine{01087\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ \_RandomAccessIterator1,\ \textcolor{keyword}{typename}\ \_RandomAccessIterator2,\ \textcolor{keyword}{typename}\ \_Compare,\ \textcolor{keyword}{typename}\ \_LeafSort>}
\DoxyCodeLine{01088\ \textcolor{keyword}{class\ }\_\_stable\_sort\_func}
\DoxyCodeLine{01089\ \{}
\DoxyCodeLine{01090\ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01091\ \ \ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ std::iterator\_traits<\_RandomAccessIterator1>::difference\_type\ \mbox{\hyperlink{class____pstl_1_1____tbb__backend_1_1____stable__sort__func_a0fc1c11e46113897145b6ba058dccbcf}{\_DifferenceType1}};}
\DoxyCodeLine{01092\ \ \ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ std::iterator\_traits<\_RandomAccessIterator2>::difference\_type\ \mbox{\hyperlink{class____pstl_1_1____tbb__backend_1_1____stable__sort__func_a9841e6928238c30d8a991d3e5fdc94fc}{\_DifferenceType2}};}
\DoxyCodeLine{01093\ \ \ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ std::common\_type<\_DifferenceType1,\ \_DifferenceType2>::type\ \mbox{\hyperlink{class____pstl_1_1____tbb__backend_1_1____stable__sort__func_adace226b3de93e2a6d7abd1c3aa19638}{\_SizeType}};}
\DoxyCodeLine{01094\ }
\DoxyCodeLine{01095\ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{01096\ \ \ \ \ \_RandomAccessIterator1\ \_M\_xs,\ \_M\_xe,\ \_M\_x\_beg;}
\DoxyCodeLine{01097\ \ \ \ \ \_RandomAccessIterator2\ \_M\_zs,\ \_M\_z\_beg;}
\DoxyCodeLine{01098\ \ \ \ \ \_Compare\ \_M\_comp;}
\DoxyCodeLine{01099\ \ \ \ \ \_LeafSort\ \_M\_leaf\_sort;}
\DoxyCodeLine{01100\ \ \ \ \ \textcolor{keywordtype}{bool}\ \_M\_root;}
\DoxyCodeLine{01101\ \ \ \ \ \mbox{\hyperlink{class____pstl_1_1____tbb__backend_1_1____stable__sort__func_adace226b3de93e2a6d7abd1c3aa19638}{\_SizeType}}\ \_M\_nsort;\ \textcolor{comment}{//zero\ or\ number\ of\ elements\ to\ be\ sorted\ for\ partial\_sort\ alforithm}}
\DoxyCodeLine{01102\ }
\DoxyCodeLine{01103\ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01104\ \ \ \ \ \mbox{\hyperlink{class____pstl_1_1____tbb__backend_1_1____stable__sort__func_a737763e97eb7c7427eee18e160f9ec11}{\_\_stable\_sort\_func}}(\_RandomAccessIterator1\ \_\_xs,\ \_RandomAccessIterator1\ \_\_xe,\ \_RandomAccessIterator2\ \_\_zs,}
\DoxyCodeLine{01105\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \_\_root,\ \_Compare\ \_\_comp,\ \_LeafSort\ \_\_leaf\_sort,\ \mbox{\hyperlink{class____pstl_1_1____tbb__backend_1_1____stable__sort__func_adace226b3de93e2a6d7abd1c3aa19638}{\_SizeType}}\ \_\_nsort,}
\DoxyCodeLine{01106\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_RandomAccessIterator1\ \_\_x\_beg,\ \_RandomAccessIterator2\ \_\_z\_beg)}
\DoxyCodeLine{01107\ \ \ \ \ \ \ \ \ :\ \_M\_xs(\_\_xs),\ \_M\_xe(\_\_xe),\ \_M\_x\_beg(\_\_x\_beg),\ \_M\_zs(\_\_zs),\ \_M\_z\_beg(\_\_z\_beg),\ \_M\_comp(\_\_comp),}
\DoxyCodeLine{01108\ \ \ \ \ \ \ \ \ \ \ \_M\_leaf\_sort(\_\_leaf\_sort),\ \_M\_root(\_\_root),\ \_M\_nsort(\_\_nsort)}
\DoxyCodeLine{01109\ \ \ \ \ \{}
\DoxyCodeLine{01110\ \ \ \ \ \}}
\DoxyCodeLine{01111\ }
\DoxyCodeLine{01112\ \ \ \ \ \mbox{\hyperlink{class____pstl_1_1____tbb__backend_1_1____task}{\_\_task}}*}
\DoxyCodeLine{01113\ \ \ \ \ \mbox{\hyperlink{class____pstl_1_1____tbb__backend_1_1____stable__sort__func_acdd1b875eb63fba87562564d602b264c}{operator()}}(\mbox{\hyperlink{class____pstl_1_1____tbb__backend_1_1____task}{\_\_task}}*\ \_\_self);}
\DoxyCodeLine{01114\ \};}
\DoxyCodeLine{01115\ }
\DoxyCodeLine{01116\ \textcolor{preprocessor}{\#define\ \_PSTL\_STABLE\_SORT\_CUT\_OFF\ 500}}
\DoxyCodeLine{01117\ }
\DoxyCodeLine{01118\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ \_RandomAccessIterator1,\ \textcolor{keyword}{typename}\ \_RandomAccessIterator2,\ \textcolor{keyword}{typename}\ \_Compare,\ \textcolor{keyword}{typename}\ \_LeafSort>}
\DoxyCodeLine{01119\ \_\_task*}
\DoxyCodeLine{01120\ \_\_stable\_sort\_func<\_RandomAccessIterator1,\ \_RandomAccessIterator2,\ \_Compare,\ \_LeafSort>::operator()(\_\_task*\ \_\_self)}
\DoxyCodeLine{01121\ \{}
\DoxyCodeLine{01122\ \ \ \ \ \textcolor{keyword}{typedef}\ \_\_merge\_func<\_RandomAccessIterator1,\ \_RandomAccessIterator2,\ \_Compare,\ \_\_utils::\_\_serial\_destroy,}
\DoxyCodeLine{01123\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_\_utils::\_\_serial\_move\_merge>}
\DoxyCodeLine{01124\ \ \ \ \ \ \ \ \ \_MergeTaskType;}
\DoxyCodeLine{01125\ }
\DoxyCodeLine{01126\ \ \ \ \ \textcolor{keyword}{const}\ \_SizeType\ \_\_n\ =\ \_M\_xe\ -\/\ \_M\_xs;}
\DoxyCodeLine{01127\ \ \ \ \ \textcolor{keyword}{const}\ \_SizeType\ \_\_nmerge\ =\ \_M\_nsort\ >\ 0\ ?\ \_M\_nsort\ :\ \_\_n;}
\DoxyCodeLine{01128\ \ \ \ \ \textcolor{keyword}{const}\ \_SizeType\ \_\_sort\_cut\_off\ =\ \mbox{\hyperlink{_classes_2lib_2include_2c_09_09_2pstl_2parallel__backend__tbb_8h_a1919770db021e403acd6c1c6613a3285}{\_PSTL\_STABLE\_SORT\_CUT\_OFF}};}
\DoxyCodeLine{01129\ \ \ \ \ \textcolor{keywordflow}{if}\ (\_\_n\ <=\ \_\_sort\_cut\_off)}
\DoxyCodeLine{01130\ \ \ \ \ \{}
\DoxyCodeLine{01131\ \ \ \ \ \ \ \ \ \_M\_leaf\_sort(\_M\_xs,\ \_M\_xe,\ \_M\_comp);}
\DoxyCodeLine{01132\ \ \ \ \ \ \ \ \ \_PSTL\_ASSERT(!\_M\_root);}
\DoxyCodeLine{01133\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{01134\ \ \ \ \ \}}
\DoxyCodeLine{01135\ }
\DoxyCodeLine{01136\ \ \ \ \ \textcolor{keyword}{const}\ \_RandomAccessIterator1\ \_\_xm\ =\ \_M\_xs\ +\ \_\_n\ /\ 2;}
\DoxyCodeLine{01137\ \ \ \ \ \textcolor{keyword}{const}\ \_RandomAccessIterator2\ \_\_zm\ =\ \_M\_zs\ +\ (\_\_xm\ -\/\ \_M\_xs);}
\DoxyCodeLine{01138\ \ \ \ \ \textcolor{keyword}{const}\ \_RandomAccessIterator2\ \_\_ze\ =\ \_M\_zs\ +\ \_\_n;}
\DoxyCodeLine{01139\ \ \ \ \ \_MergeTaskType\ \_\_m(\_MergeTaskType(\_M\_xs\ -\/\ \_M\_x\_beg,\ \_\_xm\ -\/\ \_M\_x\_beg,\ \_\_xm\ -\/\ \_M\_x\_beg,\ \_M\_xe\ -\/\ \_M\_x\_beg,}
\DoxyCodeLine{01140\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_M\_zs\ -\/\ \_M\_z\_beg,\ \_M\_comp,\ \_\_utils::\_\_serial\_destroy(),}
\DoxyCodeLine{01141\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_\_utils::\_\_serial\_move\_merge(\_\_nmerge),\ \_M\_nsort,\ \_M\_x\_beg,\ \_M\_z\_beg,}
\DoxyCodeLine{01142\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{/*x\_orig*/}\ \textcolor{keyword}{true},\ \textcolor{comment}{/*y\_orig*/}\ \textcolor{keyword}{true},\ \textcolor{comment}{/*root*/}\ \_M\_root));}
\DoxyCodeLine{01143\ \ \ \ \ \textcolor{keyword}{auto}\ \_\_parent\ =\ \_\_self-\/>make\_continuation(\mbox{\hyperlink{namespacestd_ac7095819f6a8da64d69b1ee3029c52be}{std::move}}(\_\_m));}
\DoxyCodeLine{01144\ \ \ \ \ \_\_parent-\/>set\_ref\_count(2);}
\DoxyCodeLine{01145\ \ \ \ \ \textcolor{keyword}{auto}\ \_\_right\ =\ \_\_self-\/>make\_child\_of(}
\DoxyCodeLine{01146\ \ \ \ \ \ \ \ \ \_\_parent,\ \_\_stable\_sort\_func(\_\_xm,\ \_M\_xe,\ \_\_zm,\ \textcolor{keyword}{false},\ \_M\_comp,\ \_M\_leaf\_sort,\ \_M\_nsort,\ \_M\_x\_beg,\ \_M\_z\_beg));}
\DoxyCodeLine{01147\ \ \ \ \ \_\_self-\/>spawn(\_\_right);}
\DoxyCodeLine{01148\ \ \ \ \ \_\_self-\/>recycle\_as\_child\_of(\_\_parent);}
\DoxyCodeLine{01149\ \ \ \ \ \_M\_root\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{01150\ \ \ \ \ \_M\_xe\ =\ \_\_xm;}
\DoxyCodeLine{01151\ }
\DoxyCodeLine{01152\ \ \ \ \ \textcolor{keywordflow}{return}\ \_\_self;}
\DoxyCodeLine{01153\ \}}
\DoxyCodeLine{01154\ }
\DoxyCodeLine{01155\ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ \_ExecutionPolicy,\ \textcolor{keyword}{typename}\ \_RandomAccessIterator,\ \textcolor{keyword}{typename}\ \_Compare,\ \textcolor{keyword}{typename}\ \_LeafSort>}
\DoxyCodeLine{01156\ \textcolor{keywordtype}{void}}
\DoxyCodeLine{01157\ \mbox{\hyperlink{namespace____pstl_1_1____serial__backend_a1d19b13972acbafa2554b1fb8b812914}{\_\_parallel\_stable\_sort}}(\_ExecutionPolicy\&\&,\ \_RandomAccessIterator\ \_\_xs,\ \_RandomAccessIterator\ \_\_xe,\ \_Compare\ \_\_comp,}
\DoxyCodeLine{01158\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_LeafSort\ \_\_leaf\_sort,\ std::size\_t\ \_\_nsort\ =\ 0)}
\DoxyCodeLine{01159\ \{}
\DoxyCodeLine{01160\ \ \ \ \ tbb::this\_task\_arena::isolate([=,\ \&\_\_nsort]()\ \{}
\DoxyCodeLine{01161\ \ \ \ \ \ \ \ \ \textcolor{comment}{//sorting\ based\ on\ task\ tree\ and\ parallel\ merge}}
\DoxyCodeLine{01162\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ std::iterator\_traits<\_RandomAccessIterator>::value\_type\ \_ValueType;}
\DoxyCodeLine{01163\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ std::iterator\_traits<\_RandomAccessIterator>::difference\_type\ \_DifferenceType;}
\DoxyCodeLine{01164\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \_DifferenceType\ \_\_n\ =\ \_\_xe\ -\/\ \_\_xs;}
\DoxyCodeLine{01165\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\_\_nsort\ ==\ \_\_n)}
\DoxyCodeLine{01166\ \ \ \ \ \ \ \ \ \ \ \ \ \_\_nsort\ =\ 0;\ \textcolor{comment}{//\ 'partial\_sort'\ becames\ 'sort'}}
\DoxyCodeLine{01167\ }
\DoxyCodeLine{01168\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \_DifferenceType\ \_\_sort\_cut\_off\ =\ \mbox{\hyperlink{_classes_2lib_2include_2c_09_09_2pstl_2parallel__backend__tbb_8h_a1919770db021e403acd6c1c6613a3285}{\_PSTL\_STABLE\_SORT\_CUT\_OFF}};}
\DoxyCodeLine{01169\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\_\_n\ >\ \_\_sort\_cut\_off)}
\DoxyCodeLine{01170\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{01171\ \ \ \ \ \ \ \ \ \ \ \ \ \_\_buffer<\_ValueType>\ \_\_buf(\_\_n);}
\DoxyCodeLine{01172\ \ \ \ \ \ \ \ \ \ \ \ \ \_\_root\_task<\_\_stable\_sort\_func<\_RandomAccessIterator,\ \_ValueType*,\ \_Compare,\ \_LeafSort>>\ \_\_root\{}
\DoxyCodeLine{01173\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_\_xs,\ \_\_xe,\ \_\_buf.get(),\ \textcolor{keyword}{true},\ \_\_comp,\ \_\_leaf\_sort,\ \_\_nsort,\ \_\_xs,\ \_\_buf.get()\};}
\DoxyCodeLine{01174\ \ \ \ \ \ \ \ \ \ \ \ \ \_\_task::spawn\_root\_and\_wait(\_\_root);}
\DoxyCodeLine{01175\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{01176\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01177\ \ \ \ \ \ \ \ \ \textcolor{comment}{//serial\ sort}}
\DoxyCodeLine{01178\ \ \ \ \ \ \ \ \ \_\_leaf\_sort(\_\_xs,\ \_\_xe,\ \_\_comp);}
\DoxyCodeLine{01179\ \ \ \ \ \});}
\DoxyCodeLine{01180\ \}}
\DoxyCodeLine{01181\ }
\DoxyCodeLine{01182\ \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{01183\ \textcolor{comment}{//\ parallel\_merge}}
\DoxyCodeLine{01184\ \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{01185\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ \_RandomAccessIterator1,\ \textcolor{keyword}{typename}\ \_RandomAccessIterator2,\ \textcolor{keyword}{typename}\ \_RandomAccessIterator3,}
\DoxyCodeLine{01186\ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ \_Compare,\ \textcolor{keyword}{typename}\ \_LeafMerge>}
\DoxyCodeLine{01187\ \textcolor{keyword}{class\ }\_\_merge\_func\_static}
\DoxyCodeLine{01188\ \{}
\DoxyCodeLine{01189\ \ \ \ \ \_RandomAccessIterator1\ \_M\_xs,\ \_M\_xe;}
\DoxyCodeLine{01190\ \ \ \ \ \_RandomAccessIterator2\ \_M\_ys,\ \_M\_ye;}
\DoxyCodeLine{01191\ \ \ \ \ \_RandomAccessIterator3\ \_M\_zs;}
\DoxyCodeLine{01192\ \ \ \ \ \_Compare\ \_M\_comp;}
\DoxyCodeLine{01193\ \ \ \ \ \_LeafMerge\ \_M\_leaf\_merge;}
\DoxyCodeLine{01194\ }
\DoxyCodeLine{01195\ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01196\ \ \ \ \ \mbox{\hyperlink{class____pstl_1_1____tbb__backend_1_1____merge__func__static_a6d2ba39c5ad8660d5777de8bee1060d4}{\_\_merge\_func\_static}}(\_RandomAccessIterator1\ \_\_xs,\ \_RandomAccessIterator1\ \_\_xe,\ \_RandomAccessIterator2\ \_\_ys,}
\DoxyCodeLine{01197\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_RandomAccessIterator2\ \_\_ye,\ \_RandomAccessIterator3\ \_\_zs,\ \_Compare\ \_\_comp,}
\DoxyCodeLine{01198\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_LeafMerge\ \_\_leaf\_merge)}
\DoxyCodeLine{01199\ \ \ \ \ \ \ \ \ :\ \_M\_xs(\_\_xs),\ \_M\_xe(\_\_xe),\ \_M\_ys(\_\_ys),\ \_M\_ye(\_\_ye),\ \_M\_zs(\_\_zs),\ \_M\_comp(\_\_comp),\ \_M\_leaf\_merge(\_\_leaf\_merge)}
\DoxyCodeLine{01200\ \ \ \ \ \{}
\DoxyCodeLine{01201\ \ \ \ \ \}}
\DoxyCodeLine{01202\ }
\DoxyCodeLine{01203\ \ \ \ \ \mbox{\hyperlink{class____pstl_1_1____tbb__backend_1_1____task}{\_\_task}}*}
\DoxyCodeLine{01204\ \ \ \ \ \mbox{\hyperlink{class____pstl_1_1____tbb__backend_1_1____merge__func__static_a628b1474d5c9862ced88219cb403c1d7}{operator()}}(\mbox{\hyperlink{class____pstl_1_1____tbb__backend_1_1____task}{\_\_task}}*\ \_\_self);}
\DoxyCodeLine{01205\ \};}
\DoxyCodeLine{01206\ }
\DoxyCodeLine{01207\ \textcolor{comment}{//TODO:\ consider\ usage\ of\ parallel\_for\ with\ a\ custom\ blocked\_range}}
\DoxyCodeLine{01208\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ \_RandomAccessIterator1,\ \textcolor{keyword}{typename}\ \_RandomAccessIterator2,\ \textcolor{keyword}{typename}\ \_RandomAccessIterator3,}
\DoxyCodeLine{01209\ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ \_\_M\_Compare,\ \textcolor{keyword}{typename}\ \_LeafMerge>}
\DoxyCodeLine{01210\ \mbox{\hyperlink{class____pstl_1_1____tbb__backend_1_1____task}{\_\_task}}*}
\DoxyCodeLine{01211\ \mbox{\hyperlink{class____pstl_1_1____tbb__backend_1_1____merge__func__static}{\_\_merge\_func\_static<\_RandomAccessIterator1,\ \_RandomAccessIterator2,\ \_RandomAccessIterator3,\ \_\_M\_Compare,\ \_LeafMerge>::}}}
\DoxyCodeLine{01212\ \mbox{\hyperlink{class____pstl_1_1____tbb__backend_1_1____merge__func__static}{operator()}}(\mbox{\hyperlink{class____pstl_1_1____tbb__backend_1_1____task}{\_\_task}}*\ \_\_self)}
\DoxyCodeLine{01213\ \{}
\DoxyCodeLine{01214\ \ \ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ std::iterator\_traits<\_RandomAccessIterator1>::difference\_type\ \_DifferenceType1;}
\DoxyCodeLine{01215\ \ \ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ std::iterator\_traits<\_RandomAccessIterator2>::difference\_type\ \_DifferenceType2;}
\DoxyCodeLine{01216\ \ \ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ std::common\_type<\_DifferenceType1,\ \_DifferenceType2>::type\ \_SizeType;}
\DoxyCodeLine{01217\ \ \ \ \ \textcolor{keyword}{const}\ \_SizeType\ \_\_n\ =\ (\_M\_xe\ -\/\ \_M\_xs)\ +\ (\_M\_ye\ -\/\ \_M\_ys);}
\DoxyCodeLine{01218\ \ \ \ \ \textcolor{keyword}{const}\ \_SizeType\ \_\_merge\_cut\_off\ =\ \mbox{\hyperlink{_classes_2lib_2include_2c_09_09_2pstl_2parallel__backend__tbb_8h_af869ba400ecc0d93c30063ce85199f6c}{\_PSTL\_MERGE\_CUT\_OFF}};}
\DoxyCodeLine{01219\ \ \ \ \ \textcolor{keywordflow}{if}\ (\_\_n\ <=\ \_\_merge\_cut\_off)}
\DoxyCodeLine{01220\ \ \ \ \ \{}
\DoxyCodeLine{01221\ \ \ \ \ \ \ \ \ \_M\_leaf\_merge(\_M\_xs,\ \_M\_xe,\ \_M\_ys,\ \_M\_ye,\ \_M\_zs,\ \_M\_comp);}
\DoxyCodeLine{01222\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{01223\ \ \ \ \ \}}
\DoxyCodeLine{01224\ }
\DoxyCodeLine{01225\ \ \ \ \ \_RandomAccessIterator1\ \_\_xm;}
\DoxyCodeLine{01226\ \ \ \ \ \_RandomAccessIterator2\ \_\_ym;}
\DoxyCodeLine{01227\ \ \ \ \ \textcolor{keywordflow}{if}\ (\_M\_xe\ -\/\ \_M\_xs\ <\ \_M\_ye\ -\/\ \_M\_ys)}
\DoxyCodeLine{01228\ \ \ \ \ \{}
\DoxyCodeLine{01229\ \ \ \ \ \ \ \ \ \_\_ym\ =\ \_M\_ys\ +\ (\_M\_ye\ -\/\ \_M\_ys)\ /\ 2;}
\DoxyCodeLine{01230\ \ \ \ \ \ \ \ \ \_\_xm\ =\ std::upper\_bound(\_M\_xs,\ \_M\_xe,\ *\_\_ym,\ \_M\_comp);}
\DoxyCodeLine{01231\ \ \ \ \ \}}
\DoxyCodeLine{01232\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{01233\ \ \ \ \ \{}
\DoxyCodeLine{01234\ \ \ \ \ \ \ \ \ \_\_xm\ =\ \_M\_xs\ +\ (\_M\_xe\ -\/\ \_M\_xs)\ /\ 2;}
\DoxyCodeLine{01235\ \ \ \ \ \ \ \ \ \_\_ym\ =\ std::lower\_bound(\_M\_ys,\ \_M\_ye,\ *\_\_xm,\ \_M\_comp);}
\DoxyCodeLine{01236\ \ \ \ \ \}}
\DoxyCodeLine{01237\ \ \ \ \ \textcolor{keyword}{const}\ \_RandomAccessIterator3\ \_\_zm\ =\ \_M\_zs\ +\ ((\_\_xm\ -\/\ \_M\_xs)\ +\ (\_\_ym\ -\/\ \_M\_ys));}
\DoxyCodeLine{01238\ \ \ \ \ \textcolor{keyword}{auto}\ \_\_right\ =\ \_\_self-\/>make\_additional\_child\_of(}
\DoxyCodeLine{01239\ \ \ \ \ \ \ \ \ \_\_self-\/>parent(),\ \_\_merge\_func\_static(\_\_xm,\ \_M\_xe,\ \_\_ym,\ \_M\_ye,\ \_\_zm,\ \_M\_comp,\ \_M\_leaf\_merge));}
\DoxyCodeLine{01240\ \ \ \ \ \_\_self-\/>spawn(\_\_right);}
\DoxyCodeLine{01241\ \ \ \ \ \_\_self-\/>recycle\_as\_continuation();}
\DoxyCodeLine{01242\ \ \ \ \ \_M\_xe\ =\ \_\_xm;}
\DoxyCodeLine{01243\ \ \ \ \ \_M\_ye\ =\ \_\_ym;}
\DoxyCodeLine{01244\ }
\DoxyCodeLine{01245\ \ \ \ \ \textcolor{keywordflow}{return}\ \_\_self;}
\DoxyCodeLine{01246\ \}}
\DoxyCodeLine{01247\ }
\DoxyCodeLine{01248\ \textcolor{keyword}{template}\ <\textcolor{keyword}{class\ }\_ExecutionPolicy,\ \textcolor{keyword}{typename}\ \_RandomAccessIterator1,\ \textcolor{keyword}{typename}\ \_RandomAccessIterator2,}
\DoxyCodeLine{01249\ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ \_RandomAccessIterator3,\ \textcolor{keyword}{typename}\ \_Compare,\ \textcolor{keyword}{typename}\ \_LeafMerge>}
\DoxyCodeLine{01250\ \textcolor{keywordtype}{void}}
\DoxyCodeLine{01251\ \mbox{\hyperlink{namespace____pstl_1_1____serial__backend_adde34d3d43f7f72f8463f67d115f3e9d}{\_\_parallel\_merge}}(\_ExecutionPolicy\&\&,\ \_RandomAccessIterator1\ \_\_xs,\ \_RandomAccessIterator1\ \_\_xe,}
\DoxyCodeLine{01252\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_RandomAccessIterator2\ \_\_ys,\ \_RandomAccessIterator2\ \_\_ye,\ \_RandomAccessIterator3\ \_\_zs,\ \_Compare\ \_\_comp,}
\DoxyCodeLine{01253\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_LeafMerge\ \_\_leaf\_merge)}
\DoxyCodeLine{01254\ \{}
\DoxyCodeLine{01255\ \ \ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ std::iterator\_traits<\_RandomAccessIterator1>::difference\_type\ \_DifferenceType1;}
\DoxyCodeLine{01256\ \ \ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ std::iterator\_traits<\_RandomAccessIterator2>::difference\_type\ \_DifferenceType2;}
\DoxyCodeLine{01257\ \ \ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ std::common\_type<\_DifferenceType1,\ \_DifferenceType2>::type\ \_SizeType;}
\DoxyCodeLine{01258\ \ \ \ \ \textcolor{keyword}{const}\ \_SizeType\ \_\_n\ =\ (\_\_xe\ -\/\ \_\_xs)\ +\ (\_\_ye\ -\/\ \_\_ys);}
\DoxyCodeLine{01259\ \ \ \ \ \textcolor{keyword}{const}\ \_SizeType\ \_\_merge\_cut\_off\ =\ \mbox{\hyperlink{_classes_2lib_2include_2c_09_09_2pstl_2parallel__backend__tbb_8h_af869ba400ecc0d93c30063ce85199f6c}{\_PSTL\_MERGE\_CUT\_OFF}};}
\DoxyCodeLine{01260\ \ \ \ \ \textcolor{keywordflow}{if}\ (\_\_n\ <=\ \_\_merge\_cut\_off)}
\DoxyCodeLine{01261\ \ \ \ \ \{}
\DoxyCodeLine{01262\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Fall\ back\ on\ serial\ merge}}
\DoxyCodeLine{01263\ \ \ \ \ \ \ \ \ \_\_leaf\_merge(\_\_xs,\ \_\_xe,\ \_\_ys,\ \_\_ye,\ \_\_zs,\ \_\_comp);}
\DoxyCodeLine{01264\ \ \ \ \ \}}
\DoxyCodeLine{01265\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{01266\ \ \ \ \ \{}
\DoxyCodeLine{01267\ \ \ \ \ \ \ \ \ tbb::this\_task\_arena::isolate([=]()\ \{}
\DoxyCodeLine{01268\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ \_\_merge\_func\_static<\_RandomAccessIterator1,\ \_RandomAccessIterator2,\ \_RandomAccessIterator3,}
\DoxyCodeLine{01269\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_Compare,\ \_LeafMerge>}
\DoxyCodeLine{01270\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_TaskType;}
\DoxyCodeLine{01271\ \ \ \ \ \ \ \ \ \ \ \ \ \_\_root\_task<\_TaskType>\ \_\_root\{\_\_xs,\ \_\_xe,\ \_\_ys,\ \_\_ye,\ \_\_zs,\ \_\_comp,\ \_\_leaf\_merge\};}
\DoxyCodeLine{01272\ \ \ \ \ \ \ \ \ \ \ \ \ \_\_task::spawn\_root\_and\_wait(\_\_root);}
\DoxyCodeLine{01273\ \ \ \ \ \ \ \ \ \});}
\DoxyCodeLine{01274\ \ \ \ \ \}}
\DoxyCodeLine{01275\ \}}
\DoxyCodeLine{01276\ }
\DoxyCodeLine{01277\ \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{01278\ \textcolor{comment}{//\ parallel\_invoke}}
\DoxyCodeLine{01279\ \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{01280\ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ \_ExecutionPolicy,\ \textcolor{keyword}{typename}\ \_F1,\ \textcolor{keyword}{typename}\ \_F2>}
\DoxyCodeLine{01281\ \textcolor{keywordtype}{void}}
\DoxyCodeLine{01282\ \mbox{\hyperlink{namespace____pstl_1_1____serial__backend_a1aa84b929d0e1a58cd793a31fe44d3a8}{\_\_parallel\_invoke}}(\_ExecutionPolicy\&\&,\ \_F1\&\&\ \_\_f1,\ \_F2\&\&\ \_\_f2)}
\DoxyCodeLine{01283\ \{}
\DoxyCodeLine{01284\ \ \ \ \ \textcolor{comment}{//TODO:\ a\ version\ of\ tbb::this\_task\_arena::isolate\ with\ variadic\ arguments\ pack\ should\ be\ added\ in\ the\ future}}
\DoxyCodeLine{01285\ \ \ \ \ tbb::this\_task\_arena::isolate([\&]()\ \{\ tbb::parallel\_invoke(std::forward<\_F1>(\_\_f1),\ std::forward<\_F2>(\_\_f2));\ \});}
\DoxyCodeLine{01286\ \}}
\DoxyCodeLine{01287\ }
\DoxyCodeLine{01288\ \}\ \textcolor{comment}{//\ namespace\ \_\_tbb\_backend}}
\DoxyCodeLine{01289\ \}\ \textcolor{comment}{//\ namespace\ \_\_pstl}}
\DoxyCodeLine{01290\ }
\DoxyCodeLine{01291\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{/*\ \_PSTL\_PARALLEL\_BACKEND\_TBB\_H\ */}\textcolor{preprocessor}{}}

\end{DoxyCode}
